function Kp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Gp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dd(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var hd={exports:{}},Di={},fd={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=Symbol.for("react.element"),Jp=Symbol.for("react.portal"),Qp=Symbol.for("react.fragment"),Yp=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),Zp=Symbol.for("react.provider"),em=Symbol.for("react.context"),tm=Symbol.for("react.forward_ref"),rm=Symbol.for("react.suspense"),nm=Symbol.for("react.memo"),sm=Symbol.for("react.lazy"),gu=Symbol.iterator;function im(e){return e===null||typeof e!="object"?null:(e=gu&&e[gu]||e["@@iterator"],typeof e=="function"?e:null)}var pd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},md=Object.assign,gd={};function an(e,t,r){this.props=e,this.context=t,this.refs=gd,this.updater=r||pd}an.prototype.isReactComponent={};an.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};an.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vd(){}vd.prototype=an.prototype;function nl(e,t,r){this.props=e,this.context=t,this.refs=gd,this.updater=r||pd}var sl=nl.prototype=new vd;sl.constructor=nl;md(sl,an.prototype);sl.isPureReactComponent=!0;var vu=Array.isArray,yd=Object.prototype.hasOwnProperty,il={current:null},wd={key:!0,ref:!0,__self:!0,__source:!0};function xd(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)yd.call(t,n)&&!wd.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:hs,type:e,key:i,ref:o,props:s,_owner:il.current}}function om(e,t){return{$$typeof:hs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ol(e){return typeof e=="object"&&e!==null&&e.$$typeof===hs}function am(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var yu=/\/+/g;function lo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?am(""+e.key):t.toString(36)}function Gs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hs:case Jp:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+lo(o,0):n,vu(s)?(r="",e!=null&&(r=e.replace(yu,"$&/")+"/"),Gs(s,t,r,"",function(u){return u})):s!=null&&(ol(s)&&(s=om(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",vu(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+lo(i,a);o+=Gs(i,t,r,l,s)}else if(l=im(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+lo(i,a++),o+=Gs(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _s(e,t,r){if(e==null)return e;var n=[],s=0;return Gs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function lm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},Js={transition:null},um={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:Js,ReactCurrentOwner:il};function _d(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:_s,forEach:function(e,t,r){_s(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _s(e,function(){t++}),t},toArray:function(e){return _s(e,function(t){return t})||[]},only:function(e){if(!ol(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};D.Component=an;D.Fragment=Qp;D.Profiler=Xp;D.PureComponent=nl;D.StrictMode=Yp;D.Suspense=rm;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=um;D.act=_d;D.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=md({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=il.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)yd.call(t,l)&&!wd.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:hs,type:e.type,key:s,ref:i,props:n,_owner:o}};D.createContext=function(e){return e={$$typeof:em,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zp,_context:e},e.Consumer=e};D.createElement=xd;D.createFactory=function(e){var t=xd.bind(null,e);return t.type=e,t};D.createRef=function(){return{current:null}};D.forwardRef=function(e){return{$$typeof:tm,render:e}};D.isValidElement=ol;D.lazy=function(e){return{$$typeof:sm,_payload:{_status:-1,_result:e},_init:lm}};D.memo=function(e,t){return{$$typeof:nm,type:e,compare:t===void 0?null:t}};D.startTransition=function(e){var t=Js.transition;Js.transition={};try{e()}finally{Js.transition=t}};D.unstable_act=_d;D.useCallback=function(e,t){return _e.current.useCallback(e,t)};D.useContext=function(e){return _e.current.useContext(e)};D.useDebugValue=function(){};D.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};D.useEffect=function(e,t){return _e.current.useEffect(e,t)};D.useId=function(){return _e.current.useId()};D.useImperativeHandle=function(e,t,r){return _e.current.useImperativeHandle(e,t,r)};D.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};D.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};D.useMemo=function(e,t){return _e.current.useMemo(e,t)};D.useReducer=function(e,t,r){return _e.current.useReducer(e,t,r)};D.useRef=function(e){return _e.current.useRef(e)};D.useState=function(e){return _e.current.useState(e)};D.useSyncExternalStore=function(e,t,r){return _e.current.useSyncExternalStore(e,t,r)};D.useTransition=function(){return _e.current.useTransition()};D.version="18.3.1";fd.exports=D;var _=fd.exports;const cm=Gp(_),dm=Kp({__proto__:null,default:cm},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=_,fm=Symbol.for("react.element"),pm=Symbol.for("react.fragment"),mm=Object.prototype.hasOwnProperty,gm=hm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vm={key:!0,ref:!0,__self:!0,__source:!0};function bd(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)mm.call(t,n)&&!vm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:fm,type:e,key:i,ref:o,props:s,_owner:gm.current}}Di.Fragment=pm;Di.jsx=bd;Di.jsxs=bd;hd.exports=Di;var c=hd.exports,qo={},Sd={exports:{}},De={},Ed={exports:{}},jd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,$){var L=O.length;O.push($);e:for(;0<L;){var Z=L-1>>>1,le=O[Z];if(0<s(le,$))O[Z]=$,O[L]=le,L=Z;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],L=O.pop();if(L!==$){O[0]=L;e:for(var Z=0,le=O.length,ws=le>>>1;Z<ws;){var er=2*(Z+1)-1,ao=O[er],tr=er+1,xs=O[tr];if(0>s(ao,L))tr<le&&0>s(xs,ao)?(O[Z]=xs,O[tr]=L,Z=tr):(O[Z]=ao,O[er]=L,Z=er);else if(tr<le&&0>s(xs,L))O[Z]=xs,O[tr]=L,Z=tr;else break e}}return $}function s(O,$){var L=O.sortIndex-$.sortIndex;return L!==0?L:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,g=!1,w=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=O)n(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=r(u)}}function b(O){if(y=!1,p(O),!w)if(r(l)!==null)w=!0,io(E);else{var $=r(u);$!==null&&oo(b,$.startTime-O)}}function E(O,$){w=!1,y&&(y=!1,v(j),j=-1),g=!0;var L=f;try{for(p($),h=r(l);h!==null&&(!(h.expirationTime>$)||O&&!Te());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var le=Z(h.expirationTime<=$);$=e.unstable_now(),typeof le=="function"?h.callback=le:h===r(l)&&n(l),p($)}else n(l);h=r(l)}if(h!==null)var ws=!0;else{var er=r(u);er!==null&&oo(b,er.startTime-$),ws=!1}return ws}finally{h=null,f=L,g=!1}}var S=!1,k=null,j=-1,R=5,I=-1;function Te(){return!(e.unstable_now()-I<R)}function vn(){if(k!==null){var O=e.unstable_now();I=O;var $=!0;try{$=k(!0,O)}finally{$?yn():(S=!1,k=null)}}else S=!1}var yn;if(typeof m=="function")yn=function(){m(vn)};else if(typeof MessageChannel<"u"){var mu=new MessageChannel,Hp=mu.port2;mu.port1.onmessage=vn,yn=function(){Hp.postMessage(null)}}else yn=function(){x(vn,0)};function io(O){k=O,S||(S=!0,yn())}function oo(O,$){j=x(function(){O(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,io(E))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var L=f;f=$;try{return O()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var L=f;f=O;try{return $()}finally{f=L}},e.unstable_scheduleCallback=function(O,$,L){var Z=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Z+L:Z):L=Z,O){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=L+le,O={id:d++,callback:$,priorityLevel:O,startTime:L,expirationTime:le,sortIndex:-1},L>Z?(O.sortIndex=L,t(u,O),r(l)===null&&O===r(u)&&(y?(v(j),j=-1):y=!0,oo(b,L-Z))):(O.sortIndex=le,t(l,O),w||g||(w=!0,io(E))),O},e.unstable_shouldYield=Te,e.unstable_wrapCallback=function(O){var $=f;return function(){var L=f;f=$;try{return O.apply(this,arguments)}finally{f=L}}}})(jd);Ed.exports=jd;var ym=Ed.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=_,Ue=ym;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kd=new Set,Wn={};function xr(e,t){Yr(e,t),Yr(e+"Capture",t)}function Yr(e,t){for(Wn[e]=t,e=0;e<t.length;e++)kd.add(t[e])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=Object.prototype.hasOwnProperty,xm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wu={},xu={};function _m(e){return Ho.call(xu,e)?!0:Ho.call(wu,e)?!1:xm.test(e)?xu[e]=!0:(wu[e]=!0,!1)}function bm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sm(e,t,r,n){if(t===null||typeof t>"u"||bm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var al=/[\-:]([a-z])/g;function ll(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(al,ll);pe[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(al,ll);pe[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(al,ll);pe[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function ul(e,t,r,n){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sm(t,r,s,n)&&(r=null),n||s===null?_m(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var bt=wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bs=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),cl=Symbol.for("react.strict_mode"),Ko=Symbol.for("react.profiler"),Cd=Symbol.for("react.provider"),Nd=Symbol.for("react.context"),dl=Symbol.for("react.forward_ref"),Go=Symbol.for("react.suspense"),Jo=Symbol.for("react.suspense_list"),hl=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Od=Symbol.for("react.offscreen"),_u=Symbol.iterator;function wn(e){return e===null||typeof e!="object"?null:(e=_u&&e[_u]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,uo;function Cn(e){if(uo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);uo=t&&t[1]||""}return`
`+uo+e}var co=!1;function ho(e,t){if(!e||co)return"";co=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{co=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Cn(e):""}function Em(e){switch(e.tag){case 5:return Cn(e.type);case 16:return Cn("Lazy");case 13:return Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 2:case 15:return e=ho(e.type,!1),e;case 11:return e=ho(e.type.render,!1),e;case 1:return e=ho(e.type,!0),e;default:return""}}function Qo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ir:return"Fragment";case Rr:return"Portal";case Ko:return"Profiler";case cl:return"StrictMode";case Go:return"Suspense";case Jo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nd:return(e.displayName||"Context")+".Consumer";case Cd:return(e._context.displayName||"Context")+".Provider";case dl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hl:return t=e.displayName||null,t!==null?t:Qo(e.type)||"Memo";case Ct:t=e._payload,e=e._init;try{return Qo(e(t))}catch{}}return null}function jm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qo(t);case 8:return t===cl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function km(e){var t=Td(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ss(e){e._valueTracker||(e._valueTracker=km(e))}function Pd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Td(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yo(e,t){var r=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rd(e,t){t=t.checked,t!=null&&ul(e,"checked",t,!1)}function Xo(e,t){Rd(e,t);var r=qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Zo(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Su(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Zo(e,t,r){(t!=="number"||ai(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nn=Array.isArray;function Wr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ea(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(Nn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qt(r)}}function Id(e,t){var r=qt(t.value),n=qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ju(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ad(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ta(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ad(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Es,$d=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cm=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(e){Cm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rn[t]=Rn[e]})});function Ld(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rn.hasOwnProperty(e)&&Rn[e]?(""+t).trim():t+"px"}function Ud(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ld(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Nm=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(e,t){if(t){if(Nm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function na(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sa=null;function fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ia=null,qr=null,Hr=null;function ku(e){if(e=ms(e)){if(typeof ia!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Vi(t),ia(e.stateNode,e.type,t))}}function Dd(e){qr?Hr?Hr.push(e):Hr=[e]:qr=e}function Fd(){if(qr){var e=qr,t=Hr;if(Hr=qr=null,ku(e),t)for(e=0;e<t.length;e++)ku(t[e])}}function zd(e,t){return e(t)}function Md(){}var fo=!1;function Bd(e,t,r){if(fo)return e(t,r);fo=!0;try{return zd(e,t,r)}finally{fo=!1,(qr!==null||Hr!==null)&&(Md(),Fd())}}function Hn(e,t){var r=e.stateNode;if(r===null)return null;var n=Vi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var oa=!1;if(vt)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){oa=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{oa=!1}function Om(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var In=!1,li=null,ui=!1,aa=null,Tm={onError:function(e){In=!0,li=e}};function Pm(e,t,r,n,s,i,o,a,l){In=!1,li=null,Om.apply(Tm,arguments)}function Rm(e,t,r,n,s,i,o,a,l){if(Pm.apply(this,arguments),In){if(In){var u=li;In=!1,li=null}else throw Error(C(198));ui||(ui=!0,aa=u)}}function _r(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cu(e){if(_r(e)!==e)throw Error(C(188))}function Im(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Cu(s),e;if(i===n)return Cu(s),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function Wd(e){return e=Im(e),e!==null?qd(e):null}function qd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qd(e);if(t!==null)return t;e=e.sibling}return null}var Hd=Ue.unstable_scheduleCallback,Nu=Ue.unstable_cancelCallback,Am=Ue.unstable_shouldYield,$m=Ue.unstable_requestPaint,ee=Ue.unstable_now,Lm=Ue.unstable_getCurrentPriorityLevel,pl=Ue.unstable_ImmediatePriority,Kd=Ue.unstable_UserBlockingPriority,ci=Ue.unstable_NormalPriority,Um=Ue.unstable_LowPriority,Gd=Ue.unstable_IdlePriority,Fi=null,lt=null;function Dm(e){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Fi,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Mm,Fm=Math.log,zm=Math.LN2;function Mm(e){return e>>>=0,e===0?32:31-(Fm(e)/zm|0)|0}var js=64,ks=4194304;function On(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function di(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=On(a):(i&=o,i!==0&&(n=On(i)))}else o=r&~s,o!==0?n=On(o):i!==0&&(n=On(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tt(t),s=1<<r,n|=e[r],t&=~s;return n}function Bm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-tt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Bm(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function la(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jd(){var e=js;return js<<=1,!(js&4194240)&&(js=64),e}function po(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function fs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=r}function Wm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-tt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ml(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var z=0;function Qd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yd,gl,Xd,Zd,eh,ua=!1,Cs=[],Lt=null,Ut=null,Dt=null,Kn=new Map,Gn=new Map,Ot=[],qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Kn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(t.pointerId)}}function _n(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ms(t),t!==null&&gl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Hm(e,t,r,n,s){switch(t){case"focusin":return Lt=_n(Lt,e,t,r,n,s),!0;case"dragenter":return Ut=_n(Ut,e,t,r,n,s),!0;case"mouseover":return Dt=_n(Dt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Kn.set(i,_n(Kn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Gn.set(i,_n(Gn.get(i)||null,e,t,r,n,s)),!0}return!1}function th(e){var t=ur(e.target);if(t!==null){var r=_r(t);if(r!==null){if(t=r.tag,t===13){if(t=Vd(r),t!==null){e.blockedOn=t,eh(e.priority,function(){Xd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ca(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);sa=n,r.target.dispatchEvent(n),sa=null}else return t=ms(r),t!==null&&gl(t),e.blockedOn=r,!1;t.shift()}return!0}function Tu(e,t,r){Qs(e)&&r.delete(t)}function Km(){ua=!1,Lt!==null&&Qs(Lt)&&(Lt=null),Ut!==null&&Qs(Ut)&&(Ut=null),Dt!==null&&Qs(Dt)&&(Dt=null),Kn.forEach(Tu),Gn.forEach(Tu)}function bn(e,t){e.blockedOn===t&&(e.blockedOn=null,ua||(ua=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Km)))}function Jn(e){function t(s){return bn(s,e)}if(0<Cs.length){bn(Cs[0],e);for(var r=1;r<Cs.length;r++){var n=Cs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Lt!==null&&bn(Lt,e),Ut!==null&&bn(Ut,e),Dt!==null&&bn(Dt,e),Kn.forEach(t),Gn.forEach(t),r=0;r<Ot.length;r++)n=Ot[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&(r=Ot[0],r.blockedOn===null);)th(r),r.blockedOn===null&&Ot.shift()}var Kr=bt.ReactCurrentBatchConfig,hi=!0;function Gm(e,t,r,n){var s=z,i=Kr.transition;Kr.transition=null;try{z=1,vl(e,t,r,n)}finally{z=s,Kr.transition=i}}function Jm(e,t,r,n){var s=z,i=Kr.transition;Kr.transition=null;try{z=4,vl(e,t,r,n)}finally{z=s,Kr.transition=i}}function vl(e,t,r,n){if(hi){var s=ca(e,t,r,n);if(s===null)Eo(e,t,n,fi,r),Ou(e,n);else if(Hm(s,e,t,r,n))n.stopPropagation();else if(Ou(e,n),t&4&&-1<qm.indexOf(e)){for(;s!==null;){var i=ms(s);if(i!==null&&Yd(i),i=ca(e,t,r,n),i===null&&Eo(e,t,n,fi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Eo(e,t,n,null,r)}}var fi=null;function ca(e,t,r,n){if(fi=null,e=fl(n),e=ur(e),e!==null)if(t=_r(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fi=e,null}function rh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lm()){case pl:return 1;case Kd:return 4;case ci:case Um:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var It=null,yl=null,Ys=null;function nh(){if(Ys)return Ys;var e,t=yl,r=t.length,n,s="value"in It?It.value:It.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ys=s.slice(e,1<n?1-n:void 0)}function Xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function Pu(){return!1}function Fe(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ns:Pu,this.isPropagationStopped=Pu,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=Fe(ln),ps=Y({},ln,{view:0,detail:0}),Qm=Fe(ps),mo,go,Sn,zi=Y({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sn&&(Sn&&e.type==="mousemove"?(mo=e.screenX-Sn.screenX,go=e.screenY-Sn.screenY):go=mo=0,Sn=e),mo)},movementY:function(e){return"movementY"in e?e.movementY:go}}),Ru=Fe(zi),Ym=Y({},zi,{dataTransfer:0}),Xm=Fe(Ym),Zm=Y({},ps,{relatedTarget:0}),vo=Fe(Zm),eg=Y({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=Fe(eg),rg=Y({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ng=Fe(rg),sg=Y({},ln,{data:0}),Iu=Fe(sg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ag[e])?!!t[e]:!1}function xl(){return lg}var ug=Y({},ps,{key:function(e){if(e.key){var t=ig[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cg=Fe(ug),dg=Y({},zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=Fe(dg),hg=Y({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),fg=Fe(hg),pg=Y({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),mg=Fe(pg),gg=Y({},zi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vg=Fe(gg),yg=[9,13,27,32],_l=vt&&"CompositionEvent"in window,An=null;vt&&"documentMode"in document&&(An=document.documentMode);var wg=vt&&"TextEvent"in window&&!An,sh=vt&&(!_l||An&&8<An&&11>=An),$u=" ",Lu=!1;function ih(e,t){switch(e){case"keyup":return yg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ar=!1;function xg(e,t){switch(e){case"compositionend":return oh(t);case"keypress":return t.which!==32?null:(Lu=!0,$u);case"textInput":return e=t.data,e===$u&&Lu?null:e;default:return null}}function _g(e,t){if(Ar)return e==="compositionend"||!_l&&ih(e,t)?(e=nh(),Ys=yl=It=null,Ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sh&&t.locale!=="ko"?null:t.data;default:return null}}var bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bg[e.type]:t==="textarea"}function ah(e,t,r,n){Dd(n),t=pi(t,"onChange"),0<t.length&&(r=new wl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $n=null,Qn=null;function Sg(e){yh(e,0)}function Mi(e){var t=Ur(e);if(Pd(t))return e}function Eg(e,t){if(e==="change")return t}var lh=!1;if(vt){var yo;if(vt){var wo="oninput"in document;if(!wo){var Du=document.createElement("div");Du.setAttribute("oninput","return;"),wo=typeof Du.oninput=="function"}yo=wo}else yo=!1;lh=yo&&(!document.documentMode||9<document.documentMode)}function Fu(){$n&&($n.detachEvent("onpropertychange",uh),Qn=$n=null)}function uh(e){if(e.propertyName==="value"&&Mi(Qn)){var t=[];ah(t,Qn,e,fl(e)),Bd(Sg,t)}}function jg(e,t,r){e==="focusin"?(Fu(),$n=t,Qn=r,$n.attachEvent("onpropertychange",uh)):e==="focusout"&&Fu()}function kg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mi(Qn)}function Cg(e,t){if(e==="click")return Mi(t)}function Ng(e,t){if(e==="input"||e==="change")return Mi(t)}function Og(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:Og;function Yn(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ho.call(t,s)||!nt(e[s],t[s]))return!1}return!0}function zu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mu(e,t){var r=zu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zu(r)}}function ch(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ch(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dh(){for(var e=window,t=ai();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ai(e.document)}return t}function bl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tg(e){var t=dh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ch(r.ownerDocument.documentElement,r)){if(n!==null&&bl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Mu(r,i);var o=Mu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pg=vt&&"documentMode"in document&&11>=document.documentMode,$r=null,da=null,Ln=null,ha=!1;function Bu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ha||$r==null||$r!==ai(n)||(n=$r,"selectionStart"in n&&bl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ln&&Yn(Ln,n)||(Ln=n,n=pi(da,"onSelect"),0<n.length&&(t=new wl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$r)))}function Os(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lr={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionend:Os("Transition","TransitionEnd")},xo={},hh={};vt&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Bi(e){if(xo[e])return xo[e];if(!Lr[e])return e;var t=Lr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hh)return xo[e]=t[r];return e}var fh=Bi("animationend"),ph=Bi("animationiteration"),mh=Bi("animationstart"),gh=Bi("transitionend"),vh=new Map,Vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(e,t){vh.set(e,t),xr(t,[e])}for(var _o=0;_o<Vu.length;_o++){var bo=Vu[_o],Rg=bo.toLowerCase(),Ig=bo[0].toUpperCase()+bo.slice(1);Kt(Rg,"on"+Ig)}Kt(fh,"onAnimationEnd");Kt(ph,"onAnimationIteration");Kt(mh,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(gh,"onTransitionEnd");Yr("onMouseEnter",["mouseout","mouseover"]);Yr("onMouseLeave",["mouseout","mouseover"]);Yr("onPointerEnter",["pointerout","pointerover"]);Yr("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ag=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function Wu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Rm(n,t,void 0,e),e.currentTarget=null}function yh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Wu(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Wu(s,a,u),i=l}}}if(ui)throw e=aa,ui=!1,aa=null,e}function W(e,t){var r=t[va];r===void 0&&(r=t[va]=new Set);var n=e+"__bubble";r.has(n)||(wh(t,e,2,!1),r.add(n))}function So(e,t,r){var n=0;t&&(n|=4),wh(r,e,n,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Xn(e){if(!e[Ts]){e[Ts]=!0,kd.forEach(function(r){r!=="selectionchange"&&(Ag.has(r)||So(r,!1,e),So(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,So("selectionchange",!1,t))}}function wh(e,t,r,n){switch(rh(t)){case 1:var s=Gm;break;case 4:s=Jm;break;default:s=vl}r=s.bind(null,t,r,e),s=void 0,!oa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Eo(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ur(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Bd(function(){var u=i,d=fl(r),h=[];e:{var f=vh.get(e);if(f!==void 0){var g=wl,w=e;switch(e){case"keypress":if(Xs(r)===0)break e;case"keydown":case"keyup":g=cg;break;case"focusin":w="focus",g=vo;break;case"focusout":w="blur",g=vo;break;case"beforeblur":case"afterblur":g=vo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=fg;break;case fh:case ph:case mh:g=tg;break;case gh:g=mg;break;case"scroll":g=Qm;break;case"wheel":g=vg;break;case"copy":case"cut":case"paste":g=ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Au}var y=(t&4)!==0,x=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,p;m!==null;){p=m;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,v!==null&&(b=Hn(m,v),b!=null&&y.push(Zn(m,b,p)))),x)break;m=m.return}0<y.length&&(f=new g(f,w,null,r,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&r!==sa&&(w=r.relatedTarget||r.fromElement)&&(ur(w)||w[yt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=r.relatedTarget||r.toElement,g=u,w=w?ur(w):null,w!==null&&(x=_r(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(y=Ru,b="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=Au,b="onPointerLeave",v="onPointerEnter",m="pointer"),x=g==null?f:Ur(g),p=w==null?f:Ur(w),f=new y(b,m+"leave",g,r,d),f.target=x,f.relatedTarget=p,b=null,ur(d)===u&&(y=new y(v,m+"enter",w,r,d),y.target=p,y.relatedTarget=x,b=y),x=b,g&&w)t:{for(y=g,v=w,m=0,p=y;p;p=Er(p))m++;for(p=0,b=v;b;b=Er(b))p++;for(;0<m-p;)y=Er(y),m--;for(;0<p-m;)v=Er(v),p--;for(;m--;){if(y===v||v!==null&&y===v.alternate)break t;y=Er(y),v=Er(v)}y=null}else y=null;g!==null&&qu(h,f,g,y,!1),w!==null&&x!==null&&qu(h,x,w,y,!0)}}e:{if(f=u?Ur(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var E=Eg;else if(Uu(f))if(lh)E=Ng;else{E=kg;var S=jg}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Cg);if(E&&(E=E(e,u))){ah(h,E,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Zo(f,"number",f.value)}switch(S=u?Ur(u):window,e){case"focusin":(Uu(S)||S.contentEditable==="true")&&($r=S,da=u,Ln=null);break;case"focusout":Ln=da=$r=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,Bu(h,r,d);break;case"selectionchange":if(Pg)break;case"keydown":case"keyup":Bu(h,r,d)}var k;if(_l)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ar?ih(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(sh&&r.locale!=="ko"&&(Ar||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ar&&(k=nh()):(It=d,yl="value"in It?It.value:It.textContent,Ar=!0)),S=pi(u,j),0<S.length&&(j=new Iu(j,e,null,r,d),h.push({event:j,listeners:S}),k?j.data=k:(k=oh(r),k!==null&&(j.data=k)))),(k=wg?xg(e,r):_g(e,r))&&(u=pi(u,"onBeforeInput"),0<u.length&&(d=new Iu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}yh(h,t)})}function Zn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hn(e,r),i!=null&&n.unshift(Zn(e,i,s)),i=Hn(e,t),i!=null&&n.push(Zn(e,i,s))),e=e.return}return n}function Er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Hn(r,i),l!=null&&o.unshift(Zn(r,l,a))):s||(l=Hn(r,i),l!=null&&o.push(Zn(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var $g=/\r\n?/g,Lg=/\u0000|\uFFFD/g;function Hu(e){return(typeof e=="string"?e:""+e).replace($g,`
`).replace(Lg,"")}function Ps(e,t,r){if(t=Hu(t),Hu(e)!==t&&r)throw Error(C(425))}function mi(){}var fa=null,pa=null;function ma(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ga=typeof setTimeout=="function"?setTimeout:void 0,Ug=typeof clearTimeout=="function"?clearTimeout:void 0,Ku=typeof Promise=="function"?Promise:void 0,Dg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ku<"u"?function(e){return Ku.resolve(null).then(e).catch(Fg)}:ga;function Fg(e){setTimeout(function(){throw e})}function jo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Jn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Jn(t)}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),ot="__reactFiber$"+un,es="__reactProps$"+un,yt="__reactContainer$"+un,va="__reactEvents$"+un,zg="__reactListeners$"+un,Mg="__reactHandles$"+un;function ur(e){var t=e[ot];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yt]||r[ot]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gu(e);e!==null;){if(r=e[ot])return r;e=Gu(e)}return t}e=r,r=e.parentNode}return null}function ms(e){return e=e[ot]||e[yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Vi(e){return e[es]||null}var ya=[],Dr=-1;function Gt(e){return{current:e}}function q(e){0>Dr||(e.current=ya[Dr],ya[Dr]=null,Dr--)}function V(e,t){Dr++,ya[Dr]=e.current,e.current=t}var Ht={},ye=Gt(Ht),Ce=Gt(!1),mr=Ht;function Xr(e,t){var r=e.type.contextTypes;if(!r)return Ht;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(e){return e=e.childContextTypes,e!=null}function gi(){q(Ce),q(ye)}function Ju(e,t,r){if(ye.current!==Ht)throw Error(C(168));V(ye,t),V(Ce,r)}function xh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,jm(e)||"Unknown",s));return Y({},r,n)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ht,mr=ye.current,V(ye,e),V(Ce,Ce.current),!0}function Qu(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=xh(e,t,mr),n.__reactInternalMemoizedMergedChildContext=e,q(Ce),q(ye),V(ye,e)):q(Ce),V(Ce,r)}var ft=null,Wi=!1,ko=!1;function _h(e){ft===null?ft=[e]:ft.push(e)}function Bg(e){Wi=!0,_h(e)}function Jt(){if(!ko&&ft!==null){ko=!0;var e=0,t=z;try{var r=ft;for(z=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ft=null,Wi=!1}catch(s){throw ft!==null&&(ft=ft.slice(e+1)),Hd(pl,Jt),s}finally{z=t,ko=!1}}return null}var Fr=[],zr=0,yi=null,wi=0,ze=[],Me=0,gr=null,pt=1,mt="";function sr(e,t){Fr[zr++]=wi,Fr[zr++]=yi,yi=e,wi=t}function bh(e,t,r){ze[Me++]=pt,ze[Me++]=mt,ze[Me++]=gr,gr=e;var n=pt;e=mt;var s=32-tt(n)-1;n&=~(1<<s),r+=1;var i=32-tt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,pt=1<<32-tt(t)+s|r<<s|n,mt=i+e}else pt=1<<i|r<<s|n,mt=e}function Sl(e){e.return!==null&&(sr(e,1),bh(e,1,0))}function El(e){for(;e===yi;)yi=Fr[--zr],Fr[zr]=null,wi=Fr[--zr],Fr[zr]=null;for(;e===gr;)gr=ze[--Me],ze[Me]=null,mt=ze[--Me],ze[Me]=null,pt=ze[--Me],ze[Me]=null}var Le=null,$e=null,H=!1,et=null;function Sh(e,t){var r=Ve(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Yu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Le=e,$e=Ft(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Le=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gr!==null?{id:pt,overflow:mt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ve(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Le=e,$e=null,!0):!1;default:return!1}}function wa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xa(e){if(H){var t=$e;if(t){var r=t;if(!Yu(e,t)){if(wa(e))throw Error(C(418));t=Ft(r.nextSibling);var n=Le;t&&Yu(e,t)?Sh(n,r):(e.flags=e.flags&-4097|2,H=!1,Le=e)}}else{if(wa(e))throw Error(C(418));e.flags=e.flags&-4097|2,H=!1,Le=e}}}function Xu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Le=e}function Rs(e){if(e!==Le)return!1;if(!H)return Xu(e),H=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ma(e.type,e.memoizedProps)),t&&(t=$e)){if(wa(e))throw Eh(),Error(C(418));for(;t;)Sh(e,t),t=Ft(t.nextSibling)}if(Xu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$e=Ft(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=Le?Ft(e.stateNode.nextSibling):null;return!0}function Eh(){for(var e=$e;e;)e=Ft(e.nextSibling)}function Zr(){$e=Le=null,H=!1}function jl(e){et===null?et=[e]:et.push(e)}var Vg=bt.ReactCurrentBatchConfig;function En(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function Is(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zu(e){var t=e._init;return t(e._payload)}function jh(e){function t(v,m){if(e){var p=v.deletions;p===null?(v.deletions=[m],v.flags|=16):p.push(m)}}function r(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function n(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=Vt(v,m),v.index=0,v.sibling=null,v}function i(v,m,p){return v.index=p,e?(p=v.alternate,p!==null?(p=p.index,p<m?(v.flags|=2,m):p):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,m,p,b){return m===null||m.tag!==6?(m=Io(p,v.mode,b),m.return=v,m):(m=s(m,p),m.return=v,m)}function l(v,m,p,b){var E=p.type;return E===Ir?d(v,m,p.props.children,b,p.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ct&&Zu(E)===m.type)?(b=s(m,p.props),b.ref=En(v,m,p),b.return=v,b):(b=ii(p.type,p.key,p.props,null,v.mode,b),b.ref=En(v,m,p),b.return=v,b)}function u(v,m,p,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Ao(p,v.mode,b),m.return=v,m):(m=s(m,p.children||[]),m.return=v,m)}function d(v,m,p,b,E){return m===null||m.tag!==7?(m=pr(p,v.mode,b,E),m.return=v,m):(m=s(m,p),m.return=v,m)}function h(v,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Io(""+m,v.mode,p),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case bs:return p=ii(m.type,m.key,m.props,null,v.mode,p),p.ref=En(v,null,m),p.return=v,p;case Rr:return m=Ao(m,v.mode,p),m.return=v,m;case Ct:var b=m._init;return h(v,b(m._payload),p)}if(Nn(m)||wn(m))return m=pr(m,v.mode,p,null),m.return=v,m;Is(v,m)}return null}function f(v,m,p,b){var E=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:a(v,m,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bs:return p.key===E?l(v,m,p,b):null;case Rr:return p.key===E?u(v,m,p,b):null;case Ct:return E=p._init,f(v,m,E(p._payload),b)}if(Nn(p)||wn(p))return E!==null?null:d(v,m,p,b,null);Is(v,p)}return null}function g(v,m,p,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(p)||null,a(m,v,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bs:return v=v.get(b.key===null?p:b.key)||null,l(m,v,b,E);case Rr:return v=v.get(b.key===null?p:b.key)||null,u(m,v,b,E);case Ct:var S=b._init;return g(v,m,p,S(b._payload),E)}if(Nn(b)||wn(b))return v=v.get(p)||null,d(m,v,b,E,null);Is(m,b)}return null}function w(v,m,p,b){for(var E=null,S=null,k=m,j=m=0,R=null;k!==null&&j<p.length;j++){k.index>j?(R=k,k=null):R=k.sibling;var I=f(v,k,p[j],b);if(I===null){k===null&&(k=R);break}e&&k&&I.alternate===null&&t(v,k),m=i(I,m,j),S===null?E=I:S.sibling=I,S=I,k=R}if(j===p.length)return r(v,k),H&&sr(v,j),E;if(k===null){for(;j<p.length;j++)k=h(v,p[j],b),k!==null&&(m=i(k,m,j),S===null?E=k:S.sibling=k,S=k);return H&&sr(v,j),E}for(k=n(v,k);j<p.length;j++)R=g(k,v,j,p[j],b),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?j:R.key),m=i(R,m,j),S===null?E=R:S.sibling=R,S=R);return e&&k.forEach(function(Te){return t(v,Te)}),H&&sr(v,j),E}function y(v,m,p,b){var E=wn(p);if(typeof E!="function")throw Error(C(150));if(p=E.call(p),p==null)throw Error(C(151));for(var S=E=null,k=m,j=m=0,R=null,I=p.next();k!==null&&!I.done;j++,I=p.next()){k.index>j?(R=k,k=null):R=k.sibling;var Te=f(v,k,I.value,b);if(Te===null){k===null&&(k=R);break}e&&k&&Te.alternate===null&&t(v,k),m=i(Te,m,j),S===null?E=Te:S.sibling=Te,S=Te,k=R}if(I.done)return r(v,k),H&&sr(v,j),E;if(k===null){for(;!I.done;j++,I=p.next())I=h(v,I.value,b),I!==null&&(m=i(I,m,j),S===null?E=I:S.sibling=I,S=I);return H&&sr(v,j),E}for(k=n(v,k);!I.done;j++,I=p.next())I=g(k,v,j,I.value,b),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?j:I.key),m=i(I,m,j),S===null?E=I:S.sibling=I,S=I);return e&&k.forEach(function(vn){return t(v,vn)}),H&&sr(v,j),E}function x(v,m,p,b){if(typeof p=="object"&&p!==null&&p.type===Ir&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case bs:e:{for(var E=p.key,S=m;S!==null;){if(S.key===E){if(E=p.type,E===Ir){if(S.tag===7){r(v,S.sibling),m=s(S,p.props.children),m.return=v,v=m;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ct&&Zu(E)===S.type){r(v,S.sibling),m=s(S,p.props),m.ref=En(v,S,p),m.return=v,v=m;break e}r(v,S);break}else t(v,S);S=S.sibling}p.type===Ir?(m=pr(p.props.children,v.mode,b,p.key),m.return=v,v=m):(b=ii(p.type,p.key,p.props,null,v.mode,b),b.ref=En(v,m,p),b.return=v,v=b)}return o(v);case Rr:e:{for(S=p.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){r(v,m.sibling),m=s(m,p.children||[]),m.return=v,v=m;break e}else{r(v,m);break}else t(v,m);m=m.sibling}m=Ao(p,v.mode,b),m.return=v,v=m}return o(v);case Ct:return S=p._init,x(v,m,S(p._payload),b)}if(Nn(p))return w(v,m,p,b);if(wn(p))return y(v,m,p,b);Is(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(r(v,m.sibling),m=s(m,p),m.return=v,v=m):(r(v,m),m=Io(p,v.mode,b),m.return=v,v=m),o(v)):r(v,m)}return x}var en=jh(!0),kh=jh(!1),xi=Gt(null),_i=null,Mr=null,kl=null;function Cl(){kl=Mr=_i=null}function Nl(e){var t=xi.current;q(xi),e._currentValue=t}function _a(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Gr(e,t){_i=e,kl=Mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(je=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(kl!==e)if(e={context:e,memoizedValue:t,next:null},Mr===null){if(_i===null)throw Error(C(308));Mr=e,_i.dependencies={lanes:0,firstContext:e}}else Mr=Mr.next=e;return t}var cr=null;function Ol(e){cr===null?cr=[e]:cr.push(e)}function Ch(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ol(t)):(r.next=s.next,s.next=r),t.interleaved=r,wt(e,n)}function wt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Nt=!1;function Tl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,wt(e,r)}return s=n.interleaved,s===null?(t.next=t,Ol(n)):(t.next=s.next,s.next=t),n.interleaved=t,wt(e,r)}function Zs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ml(e,r)}}function ec(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bi(e,t,r,n){var s=e.updateQueue;Nt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(f=t,g=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(g,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(g,h,f):w,f==null)break e;h=Y({},h,f);break e;case 2:Nt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yr|=o,e.lanes=o,e.memoizedState=h}}function tc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var gs={},ut=Gt(gs),ts=Gt(gs),rs=Gt(gs);function dr(e){if(e===gs)throw Error(C(174));return e}function Pl(e,t){switch(V(rs,t),V(ts,e),V(ut,gs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ta(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ta(t,e)}q(ut),V(ut,t)}function tn(){q(ut),q(ts),q(rs)}function Oh(e){dr(rs.current);var t=dr(ut.current),r=ta(t,e.type);t!==r&&(V(ts,e),V(ut,r))}function Rl(e){ts.current===e&&(q(ut),q(ts))}var G=Gt(0);function Si(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Co=[];function Il(){for(var e=0;e<Co.length;e++)Co[e]._workInProgressVersionPrimary=null;Co.length=0}var ei=bt.ReactCurrentDispatcher,No=bt.ReactCurrentBatchConfig,vr=0,Q=null,ie=null,ue=null,Ei=!1,Un=!1,ns=0,Wg=0;function me(){throw Error(C(321))}function Al(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nt(e[r],t[r]))return!1;return!0}function $l(e,t,r,n,s,i){if(vr=i,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ei.current=e===null||e.memoizedState===null?Gg:Jg,e=r(n,s),Un){i=0;do{if(Un=!1,ns=0,25<=i)throw Error(C(301));i+=1,ue=ie=null,t.updateQueue=null,ei.current=Qg,e=r(n,s)}while(Un)}if(ei.current=ji,t=ie!==null&&ie.next!==null,vr=0,ue=ie=Q=null,Ei=!1,t)throw Error(C(300));return e}function Ll(){var e=ns!==0;return ns=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Q.memoizedState=ue=e:ue=ue.next=e,ue}function He(){if(ie===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=ue===null?Q.memoizedState:ue.next;if(t!==null)ue=t,ie=e;else{if(e===null)throw Error(C(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ue===null?Q.memoizedState=ue=e:ue=ue.next=e}return ue}function ss(e,t){return typeof t=="function"?t(e):t}function Oo(e){var t=He(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=ie,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((vr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Q.lanes|=d,yr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,nt(n,t.memoizedState)||(je=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Q.lanes|=i,yr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function To(e){var t=He(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);nt(i,t.memoizedState)||(je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Th(){}function Ph(e,t){var r=Q,n=He(),s=t(),i=!nt(n.memoizedState,s);if(i&&(n.memoizedState=s,je=!0),n=n.queue,Ul(Ah.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,is(9,Ih.bind(null,r,n,s,t),void 0,null),ce===null)throw Error(C(349));vr&30||Rh(r,t,s)}return s}function Rh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Q.updateQueue,t===null?(t={lastEffect:null,stores:null},Q.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ih(e,t,r,n){t.value=r,t.getSnapshot=n,$h(t)&&Lh(e)}function Ah(e,t,r){return r(function(){$h(t)&&Lh(e)})}function $h(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nt(e,r)}catch{return!0}}function Lh(e){var t=wt(e,1);t!==null&&rt(t,e,1,-1)}function rc(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},t.queue=e,e=e.dispatch=Kg.bind(null,Q,e),[t.memoizedState,e]}function is(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Q.updateQueue,t===null?(t={lastEffect:null,stores:null},Q.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Uh(){return He().memoizedState}function ti(e,t,r,n){var s=it();Q.flags|=e,s.memoizedState=is(1|t,r,void 0,n===void 0?null:n)}function qi(e,t,r,n){var s=He();n=n===void 0?null:n;var i=void 0;if(ie!==null){var o=ie.memoizedState;if(i=o.destroy,n!==null&&Al(n,o.deps)){s.memoizedState=is(t,r,i,n);return}}Q.flags|=e,s.memoizedState=is(1|t,r,i,n)}function nc(e,t){return ti(8390656,8,e,t)}function Ul(e,t){return qi(2048,8,e,t)}function Dh(e,t){return qi(4,2,e,t)}function Fh(e,t){return qi(4,4,e,t)}function zh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mh(e,t,r){return r=r!=null?r.concat([e]):null,qi(4,4,zh.bind(null,t,e),r)}function Dl(){}function Bh(e,t){var r=He();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Al(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vh(e,t){var r=He();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Al(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wh(e,t,r){return vr&21?(nt(r,t)||(r=Jd(),Q.lanes|=r,yr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,je=!0),e.memoizedState=r)}function qg(e,t){var r=z;z=r!==0&&4>r?r:4,e(!0);var n=No.transition;No.transition={};try{e(!1),t()}finally{z=r,No.transition=n}}function qh(){return He().memoizedState}function Hg(e,t,r){var n=Bt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Hh(e))Kh(t,r);else if(r=Ch(e,t,r,n),r!==null){var s=xe();rt(r,e,n,s),Gh(r,t,n)}}function Kg(e,t,r){var n=Bt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hh(e))Kh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,nt(a,o)){var l=t.interleaved;l===null?(s.next=s,Ol(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Ch(e,t,s,n),r!==null&&(s=xe(),rt(r,e,n,s),Gh(r,t,n))}}function Hh(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function Kh(e,t){Un=Ei=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Gh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ml(e,r)}}var ji={readContext:qe,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},Gg={readContext:qe,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:nc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ti(4194308,4,zh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return ti(4,2,e,t)},useMemo:function(e,t){var r=it();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=it();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Hg.bind(null,Q,e),[n.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:rc,useDebugValue:Dl,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=rc(!1),t=e[0];return e=qg.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Q,s=it();if(H){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),ce===null)throw Error(C(349));vr&30||Rh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,nc(Ah.bind(null,n,i,e),[e]),n.flags|=2048,is(9,Ih.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=it(),t=ce.identifierPrefix;if(H){var r=mt,n=pt;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ns++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Wg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jg={readContext:qe,useCallback:Bh,useContext:qe,useEffect:Ul,useImperativeHandle:Mh,useInsertionEffect:Dh,useLayoutEffect:Fh,useMemo:Vh,useReducer:Oo,useRef:Uh,useState:function(){return Oo(ss)},useDebugValue:Dl,useDeferredValue:function(e){var t=He();return Wh(t,ie.memoizedState,e)},useTransition:function(){var e=Oo(ss)[0],t=He().memoizedState;return[e,t]},useMutableSource:Th,useSyncExternalStore:Ph,useId:qh,unstable_isNewReconciler:!1},Qg={readContext:qe,useCallback:Bh,useContext:qe,useEffect:Ul,useImperativeHandle:Mh,useInsertionEffect:Dh,useLayoutEffect:Fh,useMemo:Vh,useReducer:To,useRef:Uh,useState:function(){return To(ss)},useDebugValue:Dl,useDeferredValue:function(e){var t=He();return ie===null?t.memoizedState=e:Wh(t,ie.memoizedState,e)},useTransition:function(){var e=To(ss)[0],t=He().memoizedState;return[e,t]},useMutableSource:Th,useSyncExternalStore:Ph,useId:qh,unstable_isNewReconciler:!1};function Qe(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ba(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Y({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hi={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xe(),s=Bt(e),i=gt(n,s);i.payload=t,r!=null&&(i.callback=r),t=zt(e,i,s),t!==null&&(rt(t,e,s,n),Zs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xe(),s=Bt(e),i=gt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=zt(e,i,s),t!==null&&(rt(t,e,s,n),Zs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xe(),n=Bt(e),s=gt(r,n);s.tag=2,t!=null&&(s.callback=t),t=zt(e,s,n),t!==null&&(rt(t,e,n,r),Zs(t,e,n))}};function sc(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Yn(r,n)||!Yn(s,i):!0}function Jh(e,t,r){var n=!1,s=Ht,i=t.contextType;return typeof i=="object"&&i!==null?i=qe(i):(s=Ne(t)?mr:ye.current,n=t.contextTypes,i=(n=n!=null)?Xr(e,s):Ht),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ic(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hi.enqueueReplaceState(t,t.state,null)}function Sa(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Tl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=qe(i):(i=Ne(t)?mr:ye.current,s.context=Xr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ba(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hi.enqueueReplaceState(s,s.state,null),bi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function rn(e,t){try{var r="",n=t;do r+=Em(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Po(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ea(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Yg=typeof WeakMap=="function"?WeakMap:Map;function Qh(e,t,r){r=gt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ci||(Ci=!0,Aa=n),Ea(e,t)},r}function Yh(e,t,r){r=gt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ea(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ea(e,t),typeof n!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function oc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Yg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=d0.bind(null,e,t,r),t.then(e,e))}function ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=gt(-1,1),t.tag=2,zt(r,t,1))),r.lanes|=1),e)}var Xg=bt.ReactCurrentOwner,je=!1;function we(e,t,r,n){t.child=e===null?kh(t,null,r,n):en(t,e.child,r,n)}function uc(e,t,r,n,s){r=r.render;var i=t.ref;return Gr(t,s),n=$l(e,t,r,n,i,s),r=Ll(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xt(e,t,s)):(H&&r&&Sl(t),t.flags|=1,we(e,t,n,s),t.child)}function cc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Hl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Xh(e,t,i,n,s)):(e=ii(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yn,r(o,n)&&e.ref===t.ref)return xt(e,t,s)}return t.flags|=1,e=Vt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Xh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Yn(i,n)&&e.ref===t.ref)if(je=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(je=!0);else return t.lanes=e.lanes,xt(e,t,s)}return ja(e,t,r,n,s)}function Zh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Vr,Re),Re|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(Vr,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,V(Vr,Re),Re|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,V(Vr,Re),Re|=n;return we(e,t,s,r),t.child}function ef(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ja(e,t,r,n,s){var i=Ne(r)?mr:ye.current;return i=Xr(t,i),Gr(t,s),r=$l(e,t,r,n,i,s),n=Ll(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xt(e,t,s)):(H&&n&&Sl(t),t.flags|=1,we(e,t,r,s),t.child)}function dc(e,t,r,n,s){if(Ne(r)){var i=!0;vi(t)}else i=!1;if(Gr(t,s),t.stateNode===null)ri(e,t),Jh(t,r,n),Sa(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=qe(u):(u=Ne(r)?mr:ye.current,u=Xr(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&ic(t,o,n,u),Nt=!1;var f=t.memoizedState;o.state=f,bi(t,n,o,s),l=t.memoizedState,a!==n||f!==l||Ce.current||Nt?(typeof d=="function"&&(ba(t,r,d,n),l=t.memoizedState),(a=Nt||sc(t,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Nh(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Qe(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=qe(l):(l=Ne(r)?mr:ye.current,l=Xr(t,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ic(t,o,n,l),Nt=!1,f=t.memoizedState,o.state=f,bi(t,n,o,s);var w=t.memoizedState;a!==h||f!==w||Ce.current||Nt?(typeof g=="function"&&(ba(t,r,g,n),w=t.memoizedState),(u=Nt||sc(t,r,u,n,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return ka(e,t,r,n,i,s)}function ka(e,t,r,n,s,i){ef(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Qu(t,r,!1),xt(e,t,i);n=t.stateNode,Xg.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=en(t,e.child,null,i),t.child=en(t,null,a,i)):we(e,t,a,i),t.memoizedState=n.state,s&&Qu(t,r,!0),t.child}function tf(e){var t=e.stateNode;t.pendingContext?Ju(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ju(e,t.context,!1),Pl(e,t.containerInfo)}function hc(e,t,r,n,s){return Zr(),jl(s),t.flags|=256,we(e,t,r,n),t.child}var Ca={dehydrated:null,treeContext:null,retryLane:0};function Na(e){return{baseLanes:e,cachePool:null,transitions:null}}function rf(e,t,r){var n=t.pendingProps,s=G.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),V(G,s&1),e===null)return xa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ji(o,n,0,null),e=pr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Na(r),t.memoizedState=Ca,e):Fl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Zg(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Vt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Vt(a,i):(i=pr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Na(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Ca,n}return i=e.child,e=i.sibling,n=Vt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Fl(e,t){return t=Ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,r,n){return n!==null&&jl(n),en(t,e.child,null,r),e=Fl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zg(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Po(Error(C(422))),As(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ji({mode:"visible",children:n.children},s,0,null),i=pr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&en(t,e.child,null,o),t.child.memoizedState=Na(o),t.memoizedState=Ca,i);if(!(t.mode&1))return As(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(C(419)),n=Po(i,n,void 0),As(e,t,o,n)}if(a=(o&e.childLanes)!==0,je||a){if(n=ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wt(e,s),rt(n,e,s,-1))}return ql(),n=Po(Error(C(421))),As(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=h0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$e=Ft(s.nextSibling),Le=t,H=!0,et=null,e!==null&&(ze[Me++]=pt,ze[Me++]=mt,ze[Me++]=gr,pt=e.id,mt=e.overflow,gr=t),t=Fl(t,n.children),t.flags|=4096,t)}function fc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_a(e.return,t,r)}function Ro(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function nf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(we(e,t,n.children,r),n=G.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fc(e,r,t);else if(e.tag===19)fc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(V(G,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Si(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ro(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Si(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ro(t,!0,r,null,i);break;case"together":Ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ri(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=Vt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function e0(e,t,r){switch(t.tag){case 3:tf(t),Zr();break;case 5:Oh(t);break;case 1:Ne(t.type)&&vi(t);break;case 4:Pl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;V(xi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(V(G,G.current&1),t.flags|=128,null):r&t.child.childLanes?rf(e,t,r):(V(G,G.current&1),e=xt(e,t,r),e!==null?e.sibling:null);V(G,G.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return nf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(G,G.current),n)break;return null;case 22:case 23:return t.lanes=0,Zh(e,t,r)}return xt(e,t,r)}var sf,Oa,of,af;sf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Oa=function(){};of=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,dr(ut.current);var i=null;switch(r){case"input":s=Yo(e,s),n=Yo(e,n),i=[];break;case"select":s=Y({},s,{value:void 0}),n=Y({},n,{value:void 0}),i=[];break;case"textarea":s=ea(e,s),n=ea(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mi)}ra(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&W("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};af=function(e,t,r,n){r!==n&&(t.flags|=4)};function jn(e,t){if(!H)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function t0(e,t,r){var n=t.pendingProps;switch(El(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Ne(t.type)&&gi(),ge(t),null;case 3:return n=t.stateNode,tn(),q(Ce),q(ye),Il(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(Ua(et),et=null))),Oa(e,t),ge(t),null;case 5:Rl(t);var s=dr(rs.current);if(r=t.type,e!==null&&t.stateNode!=null)of(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return ge(t),null}if(e=dr(ut.current),Rs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ot]=t,n[es]=i,e=(t.mode&1)!==0,r){case"dialog":W("cancel",n),W("close",n);break;case"iframe":case"object":case"embed":W("load",n);break;case"video":case"audio":for(s=0;s<Tn.length;s++)W(Tn[s],n);break;case"source":W("error",n);break;case"img":case"image":case"link":W("error",n),W("load",n);break;case"details":W("toggle",n);break;case"input":bu(n,i),W("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},W("invalid",n);break;case"textarea":Eu(n,i),W("invalid",n)}ra(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ps(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ps(n.textContent,a,e),s=["children",""+a]):Wn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&W("scroll",n)}switch(r){case"input":Ss(n),Su(n,i,!0);break;case"textarea":Ss(n),ju(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ad(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ot]=t,e[es]=n,sf(e,t,!1,!1),t.stateNode=e;e:{switch(o=na(r,n),r){case"dialog":W("cancel",e),W("close",e),s=n;break;case"iframe":case"object":case"embed":W("load",e),s=n;break;case"video":case"audio":for(s=0;s<Tn.length;s++)W(Tn[s],e);s=n;break;case"source":W("error",e),s=n;break;case"img":case"image":case"link":W("error",e),W("load",e),s=n;break;case"details":W("toggle",e),s=n;break;case"input":bu(e,n),s=Yo(e,n),W("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Y({},n,{value:void 0}),W("invalid",e);break;case"textarea":Eu(e,n),s=ea(e,n),W("invalid",e);break;default:s=n}ra(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ud(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$d(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&qn(e,l):typeof l=="number"&&qn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&W("scroll",e):l!=null&&ul(e,i,l,o))}switch(r){case"input":Ss(e),Su(e,n,!1);break;case"textarea":Ss(e),ju(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Wr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Wr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)af(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=dr(rs.current),dr(ut.current),Rs(t)){if(n=t.stateNode,r=t.memoizedProps,n[ot]=t,(i=n.nodeValue!==r)&&(e=Le,e!==null))switch(e.tag){case 3:Ps(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ps(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ot]=t,t.stateNode=n}return ge(t),null;case 13:if(q(G),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(H&&$e!==null&&t.mode&1&&!(t.flags&128))Eh(),Zr(),t.flags|=98560,i=!1;else if(i=Rs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[ot]=t}else Zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else et!==null&&(Ua(et),et=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||G.current&1?ae===0&&(ae=3):ql())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return tn(),Oa(e,t),e===null&&Xn(t.stateNode.containerInfo),ge(t),null;case 10:return Nl(t.type._context),ge(t),null;case 17:return Ne(t.type)&&gi(),ge(t),null;case 19:if(q(G),i=t.memoizedState,i===null)return ge(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)jn(i,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Si(e),o!==null){for(t.flags|=128,jn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return V(G,G.current&1|2),t.child}e=e.sibling}i.tail!==null&&ee()>nn&&(t.flags|=128,n=!0,jn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Si(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!H)return ge(t),null}else 2*ee()-i.renderingStartTime>nn&&r!==1073741824&&(t.flags|=128,n=!0,jn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ee(),t.sibling=null,r=G.current,V(G,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return Wl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Re&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function r0(e,t){switch(El(t),t.tag){case 1:return Ne(t.type)&&gi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(),q(Ce),q(ye),Il(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rl(t),null;case 13:if(q(G),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(G),null;case 4:return tn(),null;case 10:return Nl(t.type._context),null;case 22:case 23:return Wl(),null;case 24:return null;default:return null}}var $s=!1,ve=!1,n0=typeof WeakSet=="function"?WeakSet:Set,N=null;function Br(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){X(e,t,n)}else r.current=null}function Ta(e,t,r){try{r()}catch(n){X(e,t,n)}}var pc=!1;function s0(e,t){if(fa=hi,e=dh(),bl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(pa={focusedElem:e,selectionRange:r},hi=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,x=w.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Qe(t.type,y),x);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(b){X(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return w=pc,pc=!1,w}function Dn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ta(t,r,i)}s=s.next}while(s!==n)}}function Ki(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ot],delete t[es],delete t[va],delete t[zg],delete t[Mg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uf(e){return e.tag===5||e.tag===3||e.tag===4}function mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ra(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mi));else if(n!==4&&(e=e.child,e!==null))for(Ra(e,t,r),e=e.sibling;e!==null;)Ra(e,t,r),e=e.sibling}function Ia(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ia(e,t,r),e=e.sibling;e!==null;)Ia(e,t,r),e=e.sibling}var de=null,Xe=!1;function Et(e,t,r){for(r=r.child;r!==null;)cf(e,t,r),r=r.sibling}function cf(e,t,r){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Fi,r)}catch{}switch(r.tag){case 5:ve||Br(r,t);case 6:var n=de,s=Xe;de=null,Et(e,t,r),de=n,Xe=s,de!==null&&(Xe?(e=de,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Xe?(e=de,r=r.stateNode,e.nodeType===8?jo(e.parentNode,r):e.nodeType===1&&jo(e,r),Jn(e)):jo(de,r.stateNode));break;case 4:n=de,s=Xe,de=r.stateNode.containerInfo,Xe=!0,Et(e,t,r),de=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ta(r,t,o),s=s.next}while(s!==n)}Et(e,t,r);break;case 1:if(!ve&&(Br(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){X(r,t,a)}Et(e,t,r);break;case 21:Et(e,t,r);break;case 22:r.mode&1?(ve=(n=ve)||r.memoizedState!==null,Et(e,t,r),ve=n):Et(e,t,r);break;default:Et(e,t,r)}}function gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new n0),t.forEach(function(n){var s=f0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ke(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Xe=!1;break e;case 3:de=a.stateNode.containerInfo,Xe=!0;break e;case 4:de=a.stateNode.containerInfo,Xe=!0;break e}a=a.return}if(de===null)throw Error(C(160));cf(i,o,s),de=null,Xe=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){X(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)df(t,e),t=t.sibling}function df(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),st(e),n&4){try{Dn(3,e,e.return),Ki(3,e)}catch(y){X(e,e.return,y)}try{Dn(5,e,e.return)}catch(y){X(e,e.return,y)}}break;case 1:Ke(t,e),st(e),n&512&&r!==null&&Br(r,r.return);break;case 5:if(Ke(t,e),st(e),n&512&&r!==null&&Br(r,r.return),e.flags&32){var s=e.stateNode;try{qn(s,"")}catch(y){X(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Rd(s,i),na(a,o);var u=na(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Ud(s,h):d==="dangerouslySetInnerHTML"?$d(s,h):d==="children"?qn(s,h):ul(s,d,h,u)}switch(a){case"input":Xo(s,i);break;case"textarea":Id(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Wr(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Wr(s,!!i.multiple,i.defaultValue,!0):Wr(s,!!i.multiple,i.multiple?[]:"",!1))}s[es]=i}catch(y){X(e,e.return,y)}}break;case 6:if(Ke(t,e),st(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){X(e,e.return,y)}}break;case 3:if(Ke(t,e),st(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Jn(t.containerInfo)}catch(y){X(e,e.return,y)}break;case 4:Ke(t,e),st(e);break;case 13:Ke(t,e),st(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bl=ee())),n&4&&gc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ve=(u=ve)||d,Ke(t,e),ve=u):Ke(t,e),st(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(N=e,d=e.child;d!==null;){for(h=N=d;N!==null;){switch(f=N,g=f.child,f.tag){case 0:case 11:case 14:case 15:Dn(4,f,f.return);break;case 1:Br(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){X(n,r,y)}}break;case 5:Br(f,f.return);break;case 22:if(f.memoizedState!==null){yc(h);continue}}g!==null?(g.return=f,N=g):yc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ld("display",o))}catch(y){X(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){X(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(t,e),st(e),n&4&&gc(e);break;case 21:break;default:Ke(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uf(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(qn(s,""),n.flags&=-33);var i=mc(e);Ia(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=mc(e);Ra(e,a,o);break;default:throw Error(C(161))}}catch(l){X(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i0(e,t,r){N=e,hf(e)}function hf(e,t,r){for(var n=(e.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||$s;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ve;a=$s;var u=ve;if($s=o,(ve=l)&&!u)for(N=s;N!==null;)o=N,l=o.child,o.tag===22&&o.memoizedState!==null?wc(s):l!==null?(l.return=o,N=l):wc(s);for(;i!==null;)N=i,hf(i),i=i.sibling;N=s,$s=a,ve=u}vc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):vc(e)}}function vc(e){for(;N!==null;){var t=N;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||Ki(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ve)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Qe(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tc(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tc(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Jn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}ve||t.flags&512&&Pa(t)}catch(f){X(t,t.return,f)}}if(t===e){N=null;break}if(r=t.sibling,r!==null){r.return=t.return,N=r;break}N=t.return}}function yc(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var r=t.sibling;if(r!==null){r.return=t.return,N=r;break}N=t.return}}function wc(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ki(4,t)}catch(l){X(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){X(t,s,l)}}var i=t.return;try{Pa(t)}catch(l){X(t,i,l)}break;case 5:var o=t.return;try{Pa(t)}catch(l){X(t,o,l)}}}catch(l){X(t,t.return,l)}if(t===e){N=null;break}var a=t.sibling;if(a!==null){a.return=t.return,N=a;break}N=t.return}}var o0=Math.ceil,ki=bt.ReactCurrentDispatcher,zl=bt.ReactCurrentOwner,We=bt.ReactCurrentBatchConfig,F=0,ce=null,ne=null,fe=0,Re=0,Vr=Gt(0),ae=0,os=null,yr=0,Gi=0,Ml=0,Fn=null,Se=null,Bl=0,nn=1/0,dt=null,Ci=!1,Aa=null,Mt=null,Ls=!1,At=null,Ni=0,zn=0,$a=null,ni=-1,si=0;function xe(){return F&6?ee():ni!==-1?ni:ni=ee()}function Bt(e){return e.mode&1?F&2&&fe!==0?fe&-fe:Vg.transition!==null?(si===0&&(si=Jd()),si):(e=z,e!==0||(e=window.event,e=e===void 0?16:rh(e.type)),e):1}function rt(e,t,r,n){if(50<zn)throw zn=0,$a=null,Error(C(185));fs(e,r,n),(!(F&2)||e!==ce)&&(e===ce&&(!(F&2)&&(Gi|=r),ae===4&&Tt(e,fe)),Oe(e,n),r===1&&F===0&&!(t.mode&1)&&(nn=ee()+500,Wi&&Jt()))}function Oe(e,t){var r=e.callbackNode;Vm(e,t);var n=di(e,e===ce?fe:0);if(n===0)r!==null&&Nu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Nu(r),t===1)e.tag===0?Bg(xc.bind(null,e)):_h(xc.bind(null,e)),Dg(function(){!(F&6)&&Jt()}),r=null;else{switch(Qd(n)){case 1:r=pl;break;case 4:r=Kd;break;case 16:r=ci;break;case 536870912:r=Gd;break;default:r=ci}r=xf(r,ff.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ff(e,t){if(ni=-1,si=0,F&6)throw Error(C(327));var r=e.callbackNode;if(Jr()&&e.callbackNode!==r)return null;var n=di(e,e===ce?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Oi(e,n);else{t=n;var s=F;F|=2;var i=mf();(ce!==e||fe!==t)&&(dt=null,nn=ee()+500,fr(e,t));do try{u0();break}catch(a){pf(e,a)}while(!0);Cl(),ki.current=i,F=s,ne!==null?t=0:(ce=null,fe=0,t=ae)}if(t!==0){if(t===2&&(s=la(e),s!==0&&(n=s,t=La(e,s))),t===1)throw r=os,fr(e,0),Tt(e,n),Oe(e,ee()),r;if(t===6)Tt(e,n);else{if(s=e.current.alternate,!(n&30)&&!a0(s)&&(t=Oi(e,n),t===2&&(i=la(e),i!==0&&(n=i,t=La(e,i))),t===1))throw r=os,fr(e,0),Tt(e,n),Oe(e,ee()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:ir(e,Se,dt);break;case 3:if(Tt(e,n),(n&130023424)===n&&(t=Bl+500-ee(),10<t)){if(di(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ga(ir.bind(null,e,Se,dt),t);break}ir(e,Se,dt);break;case 4:if(Tt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-tt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*o0(n/1960))-n,10<n){e.timeoutHandle=ga(ir.bind(null,e,Se,dt),n);break}ir(e,Se,dt);break;case 5:ir(e,Se,dt);break;default:throw Error(C(329))}}}return Oe(e,ee()),e.callbackNode===r?ff.bind(null,e):null}function La(e,t){var r=Fn;return e.current.memoizedState.isDehydrated&&(fr(e,t).flags|=256),e=Oi(e,t),e!==2&&(t=Se,Se=r,t!==null&&Ua(t)),e}function Ua(e){Se===null?Se=e:Se.push.apply(Se,e)}function a0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!nt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tt(e,t){for(t&=~Ml,t&=~Gi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tt(t),n=1<<r;e[r]=-1,t&=~n}}function xc(e){if(F&6)throw Error(C(327));Jr();var t=di(e,0);if(!(t&1))return Oe(e,ee()),null;var r=Oi(e,t);if(e.tag!==0&&r===2){var n=la(e);n!==0&&(t=n,r=La(e,n))}if(r===1)throw r=os,fr(e,0),Tt(e,t),Oe(e,ee()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,Se,dt),Oe(e,ee()),null}function Vl(e,t){var r=F;F|=1;try{return e(t)}finally{F=r,F===0&&(nn=ee()+500,Wi&&Jt())}}function wr(e){At!==null&&At.tag===0&&!(F&6)&&Jr();var t=F;F|=1;var r=We.transition,n=z;try{if(We.transition=null,z=1,e)return e()}finally{z=n,We.transition=r,F=t,!(F&6)&&Jt()}}function Wl(){Re=Vr.current,q(Vr)}function fr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ug(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(El(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gi();break;case 3:tn(),q(Ce),q(ye),Il();break;case 5:Rl(n);break;case 4:tn();break;case 13:q(G);break;case 19:q(G);break;case 10:Nl(n.type._context);break;case 22:case 23:Wl()}r=r.return}if(ce=e,ne=e=Vt(e.current,null),fe=Re=t,ae=0,os=null,Ml=Gi=yr=0,Se=Fn=null,cr!==null){for(t=0;t<cr.length;t++)if(r=cr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}cr=null}return e}function pf(e,t){do{var r=ne;try{if(Cl(),ei.current=ji,Ei){for(var n=Q.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ei=!1}if(vr=0,ue=ie=Q=null,Un=!1,ns=0,zl.current=null,r===null||r.return===null){ae=1,os=t,ne=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ac(o);if(g!==null){g.flags&=-257,lc(g,o,a,i,t),g.mode&1&&oc(i,u,t),t=g,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){oc(i,u,t),ql();break e}l=Error(C(426))}}else if(H&&a.mode&1){var x=ac(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),lc(x,o,a,i,t),jl(rn(l,a));break e}}i=l=rn(l,a),ae!==4&&(ae=2),Fn===null?Fn=[i]:Fn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Qh(i,l,t);ec(i,v);break e;case 1:a=l;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Mt===null||!Mt.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Yh(i,a,t);ec(i,b);break e}}i=i.return}while(i!==null)}vf(r)}catch(E){t=E,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function mf(){var e=ki.current;return ki.current=ji,e===null?ji:e}function ql(){(ae===0||ae===3||ae===2)&&(ae=4),ce===null||!(yr&268435455)&&!(Gi&268435455)||Tt(ce,fe)}function Oi(e,t){var r=F;F|=2;var n=mf();(ce!==e||fe!==t)&&(dt=null,fr(e,t));do try{l0();break}catch(s){pf(e,s)}while(!0);if(Cl(),F=r,ki.current=n,ne!==null)throw Error(C(261));return ce=null,fe=0,ae}function l0(){for(;ne!==null;)gf(ne)}function u0(){for(;ne!==null&&!Am();)gf(ne)}function gf(e){var t=wf(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?vf(e):ne=t,zl.current=null}function vf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=r0(r,t),r!==null){r.flags&=32767,ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,ne=null;return}}else if(r=t0(r,t,Re),r!==null){ne=r;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);ae===0&&(ae=5)}function ir(e,t,r){var n=z,s=We.transition;try{We.transition=null,z=1,c0(e,t,r,n)}finally{We.transition=s,z=n}return null}function c0(e,t,r,n){do Jr();while(At!==null);if(F&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Wm(e,i),e===ce&&(ne=ce=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ls||(Ls=!0,xf(ci,function(){return Jr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=z;z=1;var a=F;F|=4,zl.current=null,s0(e,r),df(r,e),Tg(pa),hi=!!fa,pa=fa=null,e.current=r,i0(r),$m(),F=a,z=o,We.transition=i}else e.current=r;if(Ls&&(Ls=!1,At=e,Ni=s),i=e.pendingLanes,i===0&&(Mt=null),Dm(r.stateNode),Oe(e,ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ci)throw Ci=!1,e=Aa,Aa=null,e;return Ni&1&&e.tag!==0&&Jr(),i=e.pendingLanes,i&1?e===$a?zn++:(zn=0,$a=e):zn=0,Jt(),null}function Jr(){if(At!==null){var e=Qd(Ni),t=We.transition,r=z;try{if(We.transition=null,z=16>e?16:e,At===null)var n=!1;else{if(e=At,At=null,Ni=0,F&6)throw Error(C(331));var s=F;for(F|=4,N=e.current;N!==null;){var i=N,o=i.child;if(N.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(N=u;N!==null;){var d=N;switch(d.tag){case 0:case 11:case 15:Dn(8,d,i)}var h=d.child;if(h!==null)h.return=d,N=h;else for(;N!==null;){d=N;var f=d.sibling,g=d.return;if(lf(d),d===u){N=null;break}if(f!==null){f.return=g,N=f;break}N=g}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}N=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,N=o;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dn(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,N=v;break e}N=i.return}}var m=e.current;for(N=m;N!==null;){o=N;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,N=p;else e:for(o=m;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ki(9,a)}}catch(E){X(a,a.return,E)}if(a===o){N=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,N=b;break e}N=a.return}}if(F=s,Jt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Fi,e)}catch{}n=!0}return n}finally{z=r,We.transition=t}}return!1}function _c(e,t,r){t=rn(r,t),t=Qh(e,t,1),e=zt(e,t,1),t=xe(),e!==null&&(fs(e,1,t),Oe(e,t))}function X(e,t,r){if(e.tag===3)_c(e,e,r);else for(;t!==null;){if(t.tag===3){_c(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mt===null||!Mt.has(n))){e=rn(r,e),e=Yh(t,e,1),t=zt(t,e,1),e=xe(),t!==null&&(fs(t,1,e),Oe(t,e));break}}t=t.return}}function d0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xe(),e.pingedLanes|=e.suspendedLanes&r,ce===e&&(fe&r)===r&&(ae===4||ae===3&&(fe&130023424)===fe&&500>ee()-Bl?fr(e,0):Ml|=r),Oe(e,t)}function yf(e,t){t===0&&(e.mode&1?(t=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):t=1);var r=xe();e=wt(e,t),e!==null&&(fs(e,t,r),Oe(e,r))}function h0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yf(e,r)}function f0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),yf(e,r)}var wf;wf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ce.current)je=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return je=!1,e0(e,t,r);je=!!(e.flags&131072)}else je=!1,H&&t.flags&1048576&&bh(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ri(e,t),e=t.pendingProps;var s=Xr(t,ye.current);Gr(t,r),s=$l(null,t,n,e,s,r);var i=Ll();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ne(n)?(i=!0,vi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tl(t),s.updater=Hi,t.stateNode=s,s._reactInternals=t,Sa(t,n,e,r),t=ka(null,t,n,!0,i,r)):(t.tag=0,H&&i&&Sl(t),we(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ri(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=m0(n),e=Qe(n,e),s){case 0:t=ja(null,t,n,e,r);break e;case 1:t=dc(null,t,n,e,r);break e;case 11:t=uc(null,t,n,e,r);break e;case 14:t=cc(null,t,n,Qe(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qe(n,s),ja(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qe(n,s),dc(e,t,n,s,r);case 3:e:{if(tf(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Nh(e,t),bi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=rn(Error(C(423)),t),t=hc(e,t,n,r,s);break e}else if(n!==s){s=rn(Error(C(424)),t),t=hc(e,t,n,r,s);break e}else for($e=Ft(t.stateNode.containerInfo.firstChild),Le=t,H=!0,et=null,r=kh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zr(),n===s){t=xt(e,t,r);break e}we(e,t,n,r)}t=t.child}return t;case 5:return Oh(t),e===null&&xa(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ma(n,s)?o=null:i!==null&&ma(n,i)&&(t.flags|=32),ef(e,t),we(e,t,o,r),t.child;case 6:return e===null&&xa(t),null;case 13:return rf(e,t,r);case 4:return Pl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=en(t,null,n,r):we(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qe(n,s),uc(e,t,n,s,r);case 7:return we(e,t,t.pendingProps,r),t.child;case 8:return we(e,t,t.pendingProps.children,r),t.child;case 12:return we(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,V(xi,n._currentValue),n._currentValue=o,i!==null)if(nt(i.value,o)){if(i.children===s.children&&!Ce.current){t=xt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=gt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),_a(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),_a(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Gr(t,r),s=qe(s),n=n(s),t.flags|=1,we(e,t,n,r),t.child;case 14:return n=t.type,s=Qe(n,t.pendingProps),s=Qe(n.type,s),cc(e,t,n,s,r);case 15:return Xh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qe(n,s),ri(e,t),t.tag=1,Ne(n)?(e=!0,vi(t)):e=!1,Gr(t,r),Jh(t,n,s),Sa(t,n,s,r),ka(null,t,n,!0,e,r);case 19:return nf(e,t,r);case 22:return Zh(e,t,r)}throw Error(C(156,t.tag))};function xf(e,t){return Hd(e,t)}function p0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,r,n){return new p0(e,t,r,n)}function Hl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m0(e){if(typeof e=="function")return Hl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dl)return 11;if(e===hl)return 14}return 2}function Vt(e,t){var r=e.alternate;return r===null?(r=Ve(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ii(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Hl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ir:return pr(r.children,s,i,t);case cl:o=8,s|=8;break;case Ko:return e=Ve(12,r,t,s|2),e.elementType=Ko,e.lanes=i,e;case Go:return e=Ve(13,r,t,s),e.elementType=Go,e.lanes=i,e;case Jo:return e=Ve(19,r,t,s),e.elementType=Jo,e.lanes=i,e;case Od:return Ji(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cd:o=10;break e;case Nd:o=9;break e;case dl:o=11;break e;case hl:o=14;break e;case Ct:o=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ve(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function pr(e,t,r,n){return e=Ve(7,e,n,t),e.lanes=r,e}function Ji(e,t,r,n){return e=Ve(22,e,n,t),e.elementType=Od,e.lanes=r,e.stateNode={isHidden:!1},e}function Io(e,t,r){return e=Ve(6,e,null,t),e.lanes=r,e}function Ao(e,t,r){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function g0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=po(0),this.expirationTimes=po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=po(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kl(e,t,r,n,s,i,o,a,l){return e=new g0(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ve(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(i),e}function v0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _f(e){if(!e)return Ht;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ne(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Ne(r))return xh(e,r,t)}return t}function bf(e,t,r,n,s,i,o,a,l){return e=Kl(r,n,!0,e,s,i,o,a,l),e.context=_f(null),r=e.current,n=xe(),s=Bt(r),i=gt(n,s),i.callback=t??null,zt(r,i,s),e.current.lanes=s,fs(e,s,n),Oe(e,n),e}function Qi(e,t,r,n){var s=t.current,i=xe(),o=Bt(s);return r=_f(r),t.context===null?t.context=r:t.pendingContext=r,t=gt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zt(s,t,o),e!==null&&(rt(e,s,o,i),Zs(e,s,o)),o}function Ti(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gl(e,t){bc(e,t),(e=e.alternate)&&bc(e,t)}function y0(){return null}var Sf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jl(e){this._internalRoot=e}Yi.prototype.render=Jl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Qi(e,t,null,null)};Yi.prototype.unmount=Jl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wr(function(){Qi(null,e,null,null)}),t[yt]=null}};function Yi(e){this._internalRoot=e}Yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&t!==0&&t<Ot[r].priority;r++);Ot.splice(r,0,e),r===0&&th(e)}};function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sc(){}function w0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ti(o);i.call(u)}}var o=bf(t,n,e,0,null,!1,!1,"",Sc);return e._reactRootContainer=o,e[yt]=o.current,Xn(e.nodeType===8?e.parentNode:e),wr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Ti(l);a.call(u)}}var l=Kl(e,0,!1,null,null,!1,!1,"",Sc);return e._reactRootContainer=l,e[yt]=l.current,Xn(e.nodeType===8?e.parentNode:e),wr(function(){Qi(t,l,r,n)}),l}function Zi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ti(o);a.call(l)}}Qi(t,o,e,s)}else o=w0(r,t,e,s,n);return Ti(o)}Yd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=On(t.pendingLanes);r!==0&&(ml(t,r|1),Oe(t,ee()),!(F&6)&&(nn=ee()+500,Jt()))}break;case 13:wr(function(){var n=wt(e,1);if(n!==null){var s=xe();rt(n,e,1,s)}}),Gl(e,1)}};gl=function(e){if(e.tag===13){var t=wt(e,134217728);if(t!==null){var r=xe();rt(t,e,134217728,r)}Gl(e,134217728)}};Xd=function(e){if(e.tag===13){var t=Bt(e),r=wt(e,t);if(r!==null){var n=xe();rt(r,e,t,n)}Gl(e,t)}};Zd=function(){return z};eh=function(e,t){var r=z;try{return z=e,t()}finally{z=r}};ia=function(e,t,r){switch(t){case"input":if(Xo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Vi(n);if(!s)throw Error(C(90));Pd(n),Xo(n,s)}}}break;case"textarea":Id(e,r);break;case"select":t=r.value,t!=null&&Wr(e,!!r.multiple,t,!1)}};zd=Vl;Md=wr;var x0={usingClientEntryPoint:!1,Events:[ms,Ur,Vi,Dd,Fd,Vl]},kn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_0={bundleType:kn.bundleType,version:kn.version,rendererPackageName:kn.rendererPackageName,rendererConfig:kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wd(e),e===null?null:e.stateNode},findFiberByHostInstance:kn.findFiberByHostInstance||y0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Us.isDisabled&&Us.supportsFiber)try{Fi=Us.inject(_0),lt=Us}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x0;De.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ql(t))throw Error(C(200));return v0(e,t,null,r)};De.createRoot=function(e,t){if(!Ql(e))throw Error(C(299));var r=!1,n="",s=Sf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Kl(e,1,!1,null,null,r,!1,n,s),e[yt]=t.current,Xn(e.nodeType===8?e.parentNode:e),new Jl(t)};De.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Wd(t),e=e===null?null:e.stateNode,e};De.flushSync=function(e){return wr(e)};De.hydrate=function(e,t,r){if(!Xi(t))throw Error(C(200));return Zi(null,e,t,!0,r)};De.hydrateRoot=function(e,t,r){if(!Ql(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Sf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=bf(t,null,e,1,r??null,s,!1,i,o),e[yt]=t.current,Xn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Yi(t)};De.render=function(e,t,r){if(!Xi(t))throw Error(C(200));return Zi(null,e,t,!1,r)};De.unmountComponentAtNode=function(e){if(!Xi(e))throw Error(C(40));return e._reactRootContainer?(wr(function(){Zi(null,null,e,!1,function(){e._reactRootContainer=null,e[yt]=null})}),!0):!1};De.unstable_batchedUpdates=Vl;De.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xi(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Zi(e,t,r,!1,n)};De.version="18.3.1-next-f1338f8080-20240426";function Ef(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ef)}catch(e){console.error(e)}}Ef(),Sd.exports=De;var b0=Sd.exports,Ec=b0;qo.createRoot=Ec.createRoot,qo.hydrateRoot=Ec.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(this,arguments)}var $t;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($t||($t={}));const jc="popstate";function S0(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:a="",hash:l=""}=br(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Da("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:Pi(i))}function n(s,i){Yl(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return j0(t,r,n,e)}function te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E0(){return Math.random().toString(36).substr(2,8)}function kc(e,t){return{usr:e.state,key:e.key,idx:t}}function Da(e,t,r,n){return r===void 0&&(r=null),as({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?br(t):t,{state:r,key:t&&t.key||n||E0()})}function Pi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function br(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function j0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=$t.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(as({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=$t.Pop;let x=d(),v=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:v})}function f(x,v){a=$t.Push;let m=Da(y.location,x,v);r&&r(m,x),u=d()+1;let p=kc(m,u),b=y.createHref(m);try{o.pushState(p,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(b)}i&&l&&l({action:a,location:y.location,delta:1})}function g(x,v){a=$t.Replace;let m=Da(y.location,x,v);r&&r(m,x),u=d();let p=kc(m,u),b=y.createHref(m);o.replaceState(p,"",b),i&&l&&l({action:a,location:y.location,delta:0})}function w(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:Pi(x);return m=m.replace(/ $/,"%20"),te(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let y={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(jc,h),l=x,()=>{s.removeEventListener(jc,h),l=null}},createHref(x){return t(s,x)},createURL:w,encodeLocation(x){let v=w(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:g,go(x){return o.go(x)}};return y}var Cc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cc||(Cc={}));function k0(e,t,r){return r===void 0&&(r="/"),C0(e,t,r)}function C0(e,t,r,n){let s=typeof t=="string"?br(t):t,i=Xl(s.pathname||"/",r);if(i==null)return null;let o=jf(e);N0(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=z0(i);a=U0(o[l],u)}return a}function jf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(te(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Wt([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(te(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jf(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:$0(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of kf(i.path))s(i,o,l)}),t}function kf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=kf(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function N0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:L0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const O0=/^:[\w-]+$/,T0=3,P0=2,R0=1,I0=10,A0=-2,Nc=e=>e==="*";function $0(e,t){let r=e.split("/"),n=r.length;return r.some(Nc)&&(n+=A0),t&&(n+=P0),r.filter(s=>!Nc(s)).reduce((s,i)=>s+(O0.test(i)?T0:i===""?R0:I0),n)}function L0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function U0(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=D0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Wt([i,h.pathname]),pathnameBase:W0(Wt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Wt([i,h.pathnameBase]))}return o}function D0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=F0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function F0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Yl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function z0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function M0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?br(e):e;return{pathname:r?r.startsWith("/")?r:B0(r,t):t,search:q0(n),hash:H0(s)}}function B0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function $o(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Zl(e,t){let r=V0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function eu(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=br(e):(s=as({},e),te(!s.pathname||!s.pathname.includes("?"),$o("?","pathname","search",s)),te(!s.pathname||!s.pathname.includes("#"),$o("#","pathname","hash",s)),te(!s.search||!s.search.includes("#"),$o("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=M0(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Wt=e=>e.join("/").replace(/\/\/+/g,"/"),W0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function K0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cf=["post","put","patch","delete"];new Set(Cf);const G0=["get",...Cf];new Set(G0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(this,arguments)}const tu=_.createContext(null),J0=_.createContext(null),Qt=_.createContext(null),eo=_.createContext(null),St=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Nf=_.createContext(null);function Q0(e,t){let{relative:r}=t===void 0?{}:t;cn()||te(!1);let{basename:n,navigator:s}=_.useContext(Qt),{hash:i,pathname:o,search:a}=Tf(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Wt([n,o])),s.createHref({pathname:l,search:a,hash:i})}function cn(){return _.useContext(eo)!=null}function dn(){return cn()||te(!1),_.useContext(eo).location}function Of(e){_.useContext(Qt).static||_.useLayoutEffect(e)}function hn(){let{isDataRoute:e}=_.useContext(St);return e?cv():Y0()}function Y0(){cn()||te(!1);let e=_.useContext(tu),{basename:t,future:r,navigator:n}=_.useContext(Qt),{matches:s}=_.useContext(St),{pathname:i}=dn(),o=JSON.stringify(Zl(s,r.v7_relativeSplatPath)),a=_.useRef(!1);return Of(()=>{a.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=eu(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Wt([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function X0(){let{matches:e}=_.useContext(St),t=e[e.length-1];return t?t.params:{}}function Tf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(Qt),{matches:s}=_.useContext(St),{pathname:i}=dn(),o=JSON.stringify(Zl(s,n.v7_relativeSplatPath));return _.useMemo(()=>eu(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Z0(e,t){return ev(e,t)}function ev(e,t,r,n){cn()||te(!1);let{navigator:s}=_.useContext(Qt),{matches:i}=_.useContext(St),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=dn(),d;if(t){var h;let x=typeof t=="string"?br(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||te(!1),d=x}else d=u;let f=d.pathname||"/",g=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=k0(e,{pathname:g}),y=iv(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Wt([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Wt([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&y?_.createElement(eo.Provider,{value:{location:ls({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$t.Pop}},y):y}function tv(){let e=uv(),t=K0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:s},r):null,null)}const rv=_.createElement(tv,null);class nv extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(St.Provider,{value:this.props.routeContext},_.createElement(Nf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sv(e){let{routeContext:t,match:r,children:n}=e,s=_.useContext(tu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(St.Provider,{value:t},n)}function iv(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||te(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=r,w=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,w=!1,y=null,x=null;r&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||rv,l&&(u<0&&f===0?(dv("route-fallback"),w=!0,x=null):u===f&&(w=!0,x=h.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),m=()=>{let p;return g?p=y:w?p=x:h.route.Component?p=_.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,_.createElement(sv,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(nv,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var Pf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Pf||{}),Rf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Rf||{});function ov(e){let t=_.useContext(tu);return t||te(!1),t}function av(e){let t=_.useContext(J0);return t||te(!1),t}function lv(e){let t=_.useContext(St);return t||te(!1),t}function If(e){let t=lv(),r=t.matches[t.matches.length-1];return r.route.id||te(!1),r.route.id}function uv(){var e;let t=_.useContext(Nf),r=av(),n=If();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function cv(){let{router:e}=ov(Pf.UseNavigateStable),t=If(Rf.UseNavigateStable),r=_.useRef(!1);return Of(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ls({fromRouteId:t},i)))},[e,t])}const Oc={};function dv(e,t,r){Oc[e]||(Oc[e]=!0)}function hv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tc(e){let{to:t,replace:r,state:n,relative:s}=e;cn()||te(!1);let{future:i,static:o}=_.useContext(Qt),{matches:a}=_.useContext(St),{pathname:l}=dn(),u=hn(),d=eu(t,Zl(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Ge(e){te(!1)}function fv(e){let{basename:t="/",children:r=null,location:n,navigationType:s=$t.Pop,navigator:i,static:o=!1,future:a}=e;cn()&&te(!1);let l=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:o,future:ls({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=br(n));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:w="default"}=n,y=_.useMemo(()=>{let x=Xl(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:g,key:w},navigationType:s}},[l,d,h,f,g,w,s]);return y==null?null:_.createElement(Qt.Provider,{value:u},_.createElement(eo.Provider,{children:r,value:y}))}function pv(e){let{children:t,location:r}=e;return Z0(Fa(t),r)}new Promise(()=>{});function Fa(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,s)=>{if(!_.isValidElement(n))return;let i=[...t,s];if(n.type===_.Fragment){r.push.apply(r,Fa(n.props.children,i));return}n.type!==Ge&&te(!1),!n.props.index||!n.props.children||te(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Fa(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},za.apply(this,arguments)}function mv(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function gv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vv(e,t){return e.button===0&&(!t||t==="_self")&&!gv(e)}const yv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wv="6";try{window.__reactRouterVersion=wv}catch{}const xv="startTransition",Pc=dm[xv];function Af(e){let{basename:t,children:r,future:n,window:s}=e,i=_.useRef();i.current==null&&(i.current=S0({window:s,v5Compat:!0}));let o=i.current,[a,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=_.useCallback(h=>{u&&Pc?Pc(()=>l(h)):l(h)},[l,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>hv(n),[n]),_.createElement(fv,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const _v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=_.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=t,f=mv(t,yv),{basename:g}=_.useContext(Qt),w,y=!1;if(typeof u=="string"&&bv.test(u)&&(w=u,_v))try{let p=new URL(window.location.href),b=u.startsWith("//")?new URL(p.protocol+u):new URL(u),E=Xl(b.pathname,g);b.origin===p.origin&&E!=null?u=E+b.search+b.hash:y=!0}catch{}let x=Q0(u,{relative:s}),v=Sv(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function m(p){n&&n(p),p.defaultPrevented||v(p)}return _.createElement("a",za({},f,{href:w||x,onClick:y||i?n:m,ref:r,target:l}))});var Rc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rc||(Rc={}));var Ic;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ic||(Ic={}));function Sv(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=hn(),u=dn(),d=Tf(e,{relative:o});return _.useCallback(h=>{if(vv(h,r)){h.preventDefault();let f=n!==void 0?n:Pi(u)===Pi(d);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,e,i,o,a])}var Ma=function(e,t){return Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ma(e,t)};function $f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ma(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ri=function(){return Ri=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ri.apply(this,arguments)};function fn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Lf(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Uf(e,t){return function(r,n){t(r,n,e)}}function Df(e,t,r,n,s,i){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,g=r.length-1;g>=0;g--){var w={};for(var y in n)w[y]=y==="access"?{}:n[y];for(var y in n.access)w.access[y]=n.access[y];w.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(v||null))};var x=(0,r[g])(a==="accessor"?{get:d.get,set:d.set}:d[l],w);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=o(x.get))&&(d.get=h),(h=o(x.set))&&(d.set=h),(h=o(x.init))&&s.unshift(h)}else(h=o(x))&&(a==="field"?s.unshift(h):d[l]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function Ff(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function zf(e){return typeof e=="symbol"?e:"".concat(e)}function Mf(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Bf(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function T(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function Vf(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var to=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Wf(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&to(t,e,r)}function Ii(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ru(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function qf(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ru(arguments[t]));return e}function Hf(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Kf(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function sn(e){return this instanceof sn?(this.v=e,this):new sn(e)}function Gf(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(g){return function(w){return Promise.resolve(w).then(g,h)}}function a(g,w){n[g]&&(s[g]=function(y){return new Promise(function(x,v){i.push([g,y,x,v])>1||l(g,y)})},w&&(s[g]=w(s[g])))}function l(g,w){try{u(n[g](w))}catch(y){f(i[0][3],y)}}function u(g){g.value instanceof sn?Promise.resolve(g.value.v).then(d,h):f(i[0][2],g)}function d(g){l("next",g)}function h(g){l("throw",g)}function f(g,w){g(w),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Jf(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:sn(e[s](o)),done:!1}:i?i(o):o}:i}}function Qf(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ii=="function"?Ii(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function Yf(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Ev=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Ba=function(e){return Ba=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Ba(e)};function Xf(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Ba(e),n=0;n<r.length;n++)r[n]!=="default"&&to(t,e,r[n]);return Ev(t,e),t}function Zf(e){return e&&e.__esModule?e:{default:e}}function ep(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function tp(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function rp(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function np(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var jv=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function sp(e){function t(i){e.error=e.hasError?new jv(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function ip(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const kv={__extends:$f,__assign:Ri,__rest:fn,__decorate:Lf,__param:Uf,__esDecorate:Df,__runInitializers:Ff,__propKey:zf,__setFunctionName:Mf,__metadata:Bf,__awaiter:T,__generator:Vf,__createBinding:to,__exportStar:Wf,__values:Ii,__read:ru,__spread:qf,__spreadArrays:Hf,__spreadArray:Kf,__await:sn,__asyncGenerator:Gf,__asyncDelegator:Jf,__asyncValues:Qf,__makeTemplateObject:Yf,__importStar:Xf,__importDefault:Zf,__classPrivateFieldGet:ep,__classPrivateFieldSet:tp,__classPrivateFieldIn:rp,__addDisposableResource:np,__disposeResources:sp,__rewriteRelativeImportExtension:ip},Cv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:np,get __assign(){return Ri},__asyncDelegator:Jf,__asyncGenerator:Gf,__asyncValues:Qf,__await:sn,__awaiter:T,__classPrivateFieldGet:ep,__classPrivateFieldIn:rp,__classPrivateFieldSet:tp,__createBinding:to,__decorate:Lf,__disposeResources:sp,__esDecorate:Df,__exportStar:Wf,__extends:$f,__generator:Vf,__importDefault:Zf,__importStar:Xf,__makeTemplateObject:Yf,__metadata:Bf,__param:Uf,__propKey:zf,__read:ru,__rest:fn,__rewriteRelativeImportExtension:ip,__runInitializers:Ff,__setFunctionName:Mf,__spread:qf,__spreadArray:Kf,__spreadArrays:Hf,__values:Ii,default:kv},Symbol.toStringTag,{value:"Module"})),Nv="modulepreload",Ov=function(e){return"/fiestas-app/"+e},Ac={},pn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Ov(l),l in Ac)return;Ac[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Nv,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Tv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pn(async()=>{const{default:n}=await Promise.resolve().then(()=>Sr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class nu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class $c extends nu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Lc extends nu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Uc extends nu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Va;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Va||(Va={}));class Pv{constructor(t,{headers:r={},customFetch:n,region:s=Va.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Tv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return T(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:a,signal:l}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const g=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new $c(v)}),w=g.headers.get("x-relay-error");if(w&&w==="true")throw new Lc(g);if(!g.ok)throw new Uc(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield g.json():y==="application/octet-stream"||y==="application/pdf"?x=yield g.blob():y==="text/event-stream"?x=g:y==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new $c(i)}:{data:null,error:i,response:i instanceof Uc||i instanceof Lc?i.context:void 0}}})}}var Ee={};const mn=dd(Cv);var Ds={},Fs={},zs={},Ms={},Bs={},Rv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},on=Rv();const Iv=on.fetch,op=on.fetch.bind(on),ap=on.Headers,Av=on.Request,$v=on.Response,Sr=Object.freeze(Object.defineProperty({__proto__:null,Headers:ap,Request:Av,Response:$v,default:op,fetch:Iv},Symbol.toStringTag,{value:"Module"})),Lv=dd(Sr);var Vs={},Dc;function lp(){if(Dc)return Vs;Dc=1,Object.defineProperty(Vs,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Vs.default=e,Vs}var Fc;function up(){if(Fc)return Bs;Fc=1,Object.defineProperty(Bs,"__esModule",{value:!0});const e=mn,t=e.__importDefault(Lv),r=e.__importDefault(lp());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,f,g;let w=null,y=null,x=null,v=u.status,m=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=S:y=JSON.parse(S))}const b=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),E=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");b&&E&&E.length>1&&(x=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(w={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,x=null,v=406,m="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const b=await u.text();try{w=JSON.parse(b),Array.isArray(w)&&u.status===404&&(y=[],w=null,v=200,m="OK")}catch{u.status===404&&b===""?(v=204,m="No Content"):w={message:b}}if(w&&this.isMaybeSingle&&(!((g=w==null?void 0:w.details)===null||g===void 0)&&g.includes("0 rows"))&&(w=null,v=200,m="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:y,count:x,status:v,statusText:m}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,f;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Bs.default=n,Bs}var zc;function cp(){if(zc)return Ms;zc=1,Object.defineProperty(Ms,"__esModule",{value:!0});const t=mn.__importDefault(up());class r extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ms.default=r,Ms}var Mc;function su(){if(Mc)return zs;Mc=1,Object.defineProperty(zs,"__esModule",{value:!0});const t=mn.__importDefault(cp());class r extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${u}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return zs.default=r,zs}var Bc;function dp(){if(Bc)return Fs;Bc=1,Object.defineProperty(Fs,"__esModule",{value:!0});const t=mn.__importDefault(su());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(h.length>0){const f=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Fs.default=r,Fs}var Vc;function Uv(){if(Vc)return Ds;Vc=1,Object.defineProperty(Ds,"__esModule",{value:!0});const e=mn,t=e.__importDefault(dp()),r=e.__importDefault(su());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let g;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{f.searchParams.append(y,x)})):(h="POST",g=o);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:w,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ds.default=n,Ds}Object.defineProperty(Ee,"__esModule",{value:!0});Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const gn=mn,hp=gn.__importDefault(Uv());Ee.PostgrestClient=hp.default;const fp=gn.__importDefault(dp());Ee.PostgrestQueryBuilder=fp.default;const pp=gn.__importDefault(su());Ee.PostgrestFilterBuilder=pp.default;const mp=gn.__importDefault(cp());Ee.PostgrestTransformBuilder=mp.default;const gp=gn.__importDefault(up());Ee.PostgrestBuilder=gp.default;const vp=gn.__importDefault(lp());Ee.PostgrestError=vp.default;var Dv=Ee.default={PostgrestClient:hp.default,PostgrestQueryBuilder:fp.default,PostgrestFilterBuilder:pp.default,PostgrestTransformBuilder:mp.default,PostgrestBuilder:gp.default,PostgrestError:vp.default};const{PostgrestClient:Fv,PostgrestQueryBuilder:T_,PostgrestFilterBuilder:P_,PostgrestTransformBuilder:R_,PostgrestBuilder:I_,PostgrestError:A_}=Dv;class zv{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Mv="2.76.1",Bv=`realtime-js/${Mv}`,Vv="1.0.0",Wa=1e4,Wv=1e3,qv=100;var Mn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mn||(Mn={}));var se;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(se||(se={}));var Ze;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ze||(Ze={}));var qa;(function(e){e.websocket="websocket"})(qa||(qa={}));var ar;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ar||(ar={}));class Hv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class yp{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(B||(B={}));const Wc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Kv(o,e,t,s),i),{}):{}},Kv=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?wp(i,o):Ha(o)},wp=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Yv(t,r)}switch(e){case B.bool:return Gv(t);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return Jv(t);case B.json:case B.jsonb:return Qv(t);case B.timestamp:return Xv(t);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return Ha(t);default:return Ha(t)}},Ha=e=>e,Gv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Jv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Yv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>wp(t,a))}return e},Xv=e=>typeof e=="string"?e.replace(" ","T"):e,xp=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Lo{constructor(t,r,n={},s=Wa){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qc||(qc={}));class Bn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Bn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),w=d.filter(x=>g.indexOf(x.presence_ref)<0),y=h.filter(x=>f.indexOf(x.presence_ref)<0);w.length>0&&(a[u]=w),y.length>0&&(l[u]=y)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hc||(Hc={}));var Vn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vn||(Vn={}));var ht;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class iu{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lo(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new yp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Bn(this),this.broadcastEndpointURL=xp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Vn.PRESENCE]&&this.bindings[Vn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(ht.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(ht.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var w;if(this.socket.setAuth(),g===void 0){t==null||t(ht.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,v=[];for(let m=0;m<x;m++){const p=y[m],{filter:{event:b,schema:E,table:S,filter:k}}=p,j=g&&g[m];if(j&&j.event===b&&j.schema===E&&j.table===S&&j.filter===k)v.push(Object.assign(Object.assign({},p),{id:j.id}));else{this.unsubscribe(),this.state=se.errored,t==null||t(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(ht.SUBSCRIBED);return}}).receive("error",g=>{this.state=se.errored,t==null||t(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===se.joined&&t===Vn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=se.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Lo(this,Ze.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Lo(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Ze;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var w,y,x;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(y=g.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var w,y,x,v,m,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const b=g.id,E=(w=g.filter)===null||w===void 0?void 0:w.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(m=(v=g==null?void 0:g.filter)===null||v===void 0?void 0:v.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:y,table:x,commit_timestamp:v,type:m,errors:p}=w;f=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:v,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(w))}g.callback(f,n)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&iu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ze.close,{},t)}_onError(t){this._on(Ze.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Wc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Wc(t.columns,t.old_record)),r}}const Uo=()=>{},Ws={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zv=[1e3,2e3,5e3,1e4],ey=1e4,ty=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ry{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wa,this.transport=null,this.heartbeatIntervalMs=Ws.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uo,this.ref=0,this.reconnectTimer=null,this.logger=Uo,this.conn=null,this.sendBuffer=[],this.serializer=new Hv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>pn(async()=>{const{default:a}=await Promise.resolve().then(()=>Sr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${qa.websocket}`,this.httpEndpoint=xp(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vv}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mn.connecting:return ar.Connecting;case Mn.open:return ar.Open;case Mn.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new iu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Wv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ws.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ze.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ty],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Bv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new yp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ws.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Wa,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ws.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Uo,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:h=>Zv[h-1]||ey,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ou extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function K(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ny extends ou{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ka extends ou{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const au=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pn(async()=>{const{default:n}=await Promise.resolve().then(()=>Sr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},sy=()=>T(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pn(()=>Promise.resolve().then(()=>Sr),void 0)).Response:Response}),Ga=e=>{if(Array.isArray(e))return e.map(r=>Ga(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ga(n)}),t},iy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Do=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oy=(e,t,r)=>T(void 0,void 0,void 0,function*(){const n=yield sy();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new ny(Do(s),i,o))}).catch(s=>{t(new Ka(Do(s),s))}):t(new Ka(Do(e),e))}),ay=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(iy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function vs(e,t,r,n,s,i){return T(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,ay(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>oy(l,a,n))})})}function us(e,t,r,n){return T(this,void 0,void 0,function*(){return vs(e,"GET",t,r,n)})}function Ye(e,t,r,n,s){return T(this,void 0,void 0,function*(){return vs(e,"POST",t,n,s,r)})}function Ja(e,t,r,n,s){return T(this,void 0,void 0,function*(){return vs(e,"PUT",t,n,s,r)})}function ly(e,t,r,n){return T(this,void 0,void 0,function*(){return vs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lu(e,t,r,n,s){return T(this,void 0,void 0,function*(){return vs(e,"DELETE",t,n,s,r)})}class uy{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return T(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(K(t))return{data:null,error:t};throw t}})}}var _p;class cy{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[_p]="BlobDownloadBuilder",this.promise=null}asStream(){return new uy(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return T(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(K(t))return{data:null,error:t};throw t}})}}_p=Symbol.toStringTag;const dy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hy{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=au(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return T(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Kc),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Ja:Ye)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(K(i))return{data:null,error:i};throw i}})}upload(t,r,n){return T(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return T(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Kc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Ja(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(K(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return T(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ye(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ou("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}update(t,r,n){return T(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return T(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}copy(t,r,n){return T(this,void 0,void 0,function*(){try{return{data:{path:(yield Ye(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return T(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ye(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return T(this,void 0,void 0,function*(){try{const s=yield Ye(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>us(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new cy(l,this.shouldThrowOnError)}info(t){return T(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield us(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ga(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}exists(t){return T(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ly(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n)&&n instanceof Ka){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return T(this,void 0,void 0,function*(){try{return{data:yield lu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}list(t,r,n){return T(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},dy),r),{prefix:t||""});return{data:yield Ye(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}listV2(t,r){return T(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ye(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const bp="2.76.1",Sp={"X-Client-Info":`storage-js/${bp}`};class fy{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sp),r),this.fetch=au(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return T(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(K(t))return{data:null,error:t};throw t}})}getBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}createBucket(t){return T(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(K(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return T(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(K(n))return{data:null,error:n};throw n}})}emptyBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}deleteBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield lu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}}class py{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sp),r),this.fetch=au(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}listBuckets(t){return T(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield us(this.fetch,s,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}deleteBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield lu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(K(r))return{data:null,error:r};throw r}})}}const uu={"X-Client-Info":`storage-js/${bp}`,"Content-Type":"application/json"};class Ep extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ie(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Fo extends Ep{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class my extends Ep{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Gc;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Gc||(Gc={}));const cu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pn(async()=>{const{default:n}=await Promise.resolve().then(()=>Sr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Jc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vy=(e,t,r)=>T(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Fo(Jc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Fo(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Fo(a,s,o))}}else t(new my(Jc(e),e))}),yy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(gy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function wy(e,t,r,n,s,i){return T(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,yy(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>vy(l,a,n))})})}function Ae(e,t,r,n,s){return T(this,void 0,void 0,function*(){return wy(e,"POST",t,n,s,r)})}class xy{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uu),r),this.fetch=cu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return T(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}getIndex(t,r){return T(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}listIndexes(t){return T(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return T(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}}class _y{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uu),r),this.fetch=cu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return T(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ae(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}getVectors(t){return T(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}listVectors(t){return T(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ae(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}queryVectors(t){return T(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteVectors(t){return T(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ae(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}}class by{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uu),r),this.fetch=cu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return T(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}getBucket(t){return T(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}listBuckets(){return T(this,arguments,void 0,function*(t={}){try{return{data:yield Ae(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteBucket(t){return T(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}}class Sy extends by{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Ey(this.url,this.headers,t,this.fetch)}}class Ey extends xy{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return T(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return T(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return T(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return T(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new jy(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class jy extends _y{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return T(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return T(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return T(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return T(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return T(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ky extends fy{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new hy(this.url,this.headers,t,this.fetch)}get vectors(){return new Sy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new py(this.url+"/iceberg",this.headers,this.fetch)}}const Cy="2.76.1";let Pn="";typeof Deno<"u"?Pn="deno":typeof document<"u"?Pn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pn="react-native":Pn="node";const Ny={"X-Client-Info":`supabase-js-${Pn}/${Cy}`},Oy={headers:Ny},Ty={schema:"public"},Py={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ry={},Iy=e=>{let t;return e?t=e:typeof fetch>"u"?t=op:t=fetch,(...r)=>t(...r)},Ay=()=>typeof Headers>"u"?ap:Headers,$y=(e,t,r)=>{const n=Iy(r),s=Ay();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function Ly(e){return e.endsWith("/")?e:e+"/"}function Uy(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Dy(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ly(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const jp="2.76.1",Tr=30*1e3,Qa=3,zo=Qa*Tr,Fy="http://localhost:9999",zy="supabase.auth.token",My={"X-Client-Info":`gotrue-js/${jp}`},Ya="X-Supabase-Api-Version",kp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},By=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vy=10*60*1e3;class cs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function P(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Wy extends cs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function qy(e){return P(e)&&e.name==="AuthApiError"}class lr extends cs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Yt extends cs{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class kt extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hy(e){return P(e)&&e.name==="AuthSessionMissingError"}class jr extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qs extends Yt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Hs extends Yt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ky(e){return P(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qc extends Yt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xa extends Yt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Mo(e){return P(e)&&e.name==="AuthRetryableFetchError"}class Yc extends Yt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Za extends Yt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xc=` 	
\r=`.split(""),Gy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xc.length;t+=1)e[Xc[t].charCodeAt(0)]=-2;for(let t=0;t<Ai.length;t+=1)e[Ai[t].charCodeAt(0)]=t;return e})();function Zc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ai[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ai[n]),t.queuedBits-=6}}function Cp(e,t,r){const n=Gy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ed(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Yy(o,n,r)};for(let o=0;o<e.length;o+=1)Cp(e.charCodeAt(o),s,i);return t.join("")}function Jy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Qy(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Jy(n,t)}}function Yy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Qr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Cp(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Xy(e){const t=[];return Qy(e,r=>t.push(r)),new Uint8Array(t)}function hr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Zc(s,r,n)),Zc(null,r,n),t.join("")}function Zy(e){return Math.round(Date.now()/1e3)+e}function ew(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Pe=()=>typeof window<"u"&&typeof document<"u",rr={tested:!1,writable:!1},Np=()=>{if(!Pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rr.tested)return rr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),rr.tested=!0,rr.writable=!0}catch{rr.tested=!0,rr.writable=!1}return rr.writable};function tw(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Op=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pn(async()=>{const{default:n}=await Promise.resolve().then(()=>Sr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},rw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},nr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jt=async(e,t)=>{await e.removeItem(t)};class ro{constructor(){this.promise=new ro.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ro.promiseConstructor=Promise;function Bo(e){const t=e.split(".");if(t.length!==3)throw new Za("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!By.test(t[n]))throw new Za("JWT not in base64url format");return{header:JSON.parse(ed(t[0])),payload:JSON.parse(ed(t[1])),signature:Qr(t[2]),raw:{header:t[0],payload:t[1]}}}async function nw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sw(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function iw(e){return("0"+e.toString(16)).substr(-2)}function ow(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,iw).join("")}async function aw(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function lw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await aw(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kr(e,t,r=!1){const n=ow();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Pr(e,`${t}-code-verifier`,s);const i=await lw(n);return[i,n===i?"plain":"s256"]}const uw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cw(e){const t=e.headers.get(Ya);if(!t||!t.match(uw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(e){if(!fw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function td(e){return JSON.parse(JSON.stringify(e))}const or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pw=[502,503,504];async function rd(e){var t;if(!rw(e))throw new Xa(or(e),0);if(pw.includes(e.status))throw new Xa(or(e),e.status);let r;try{r=await e.json()}catch(i){throw new lr(or(i),i)}let n;const s=cw(e);if(s&&s.getTime()>=kp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Yc(or(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Yc(or(r),e.status,r.weak_password.reasons);throw new Wy(or(r),e.status||500,n)}const mw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function A(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ya]||(i[Ya]=kp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await gw(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function gw(e,t,r,n,s,i){const o=mw(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Xa(or(l),0)}if(a.ok||await rd(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await rd(l)}}function Je(e){var t;let r=null;ww(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Zy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nd(e){const t=Je(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vw(e){return{data:e,error:null}}function yw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=fn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function sd(e){return e}function ww(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wo=["global","local","others"];class xw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Op(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Wo[0]){if(Wo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wo.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=fn(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(P(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:sd});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(P(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Cr(t);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Cr(t);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Pt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Cr(t);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Cr(t.userId);try{const{data:r,error:n}=await A(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Cr(t.userId),Cr(t.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:sd});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(P(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await A(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await A(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await A(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}}function id(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Nr={debug:!!(globalThis&&Np()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _w extends Tp{}async function bw(e,t,r){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Nr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _w(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Nr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Sw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Ew(e){return parseInt(e,16)}function jw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function kw(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=Pp(e.address),w=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",x=`${w} wants you to sign in with your Ethereum account:
${g}

${y}`;let v=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);m+=`
- ${p}`}v+=m}return`${x}
${v}`}class re extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class $i extends re{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Cw({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Rp(o)){if(i.rp.id!==o)return new re({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Nw({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Rp(n)){if(r.rpId!==n)return new re({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Ow{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Tw=new Ow;function Pw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=fn(e,["challenge","user","excludeCredentials"]),i=Qr(t).buffer,o=Object.assign(Object.assign({},r),{id:Qr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Qr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Rw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=fn(e,["challenge","allowCredentials"]),s=Qr(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Qr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Iw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:hr(new Uint8Array(e.response.attestationObject)),clientDataJSON:hr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Aw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:hr(new Uint8Array(s.authenticatorData)),clientDataJSON:hr(new Uint8Array(s.clientDataJSON)),signature:hr(new Uint8Array(s.signature)),userHandle:s.userHandle?hr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Rp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function od(){var e,t;return!!(Pe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function $w(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $i("Browser returned unexpected credential type",t)}:{data:null,error:new $i("Empty credential response",t)}}catch(t){return{data:null,error:Cw({error:t,options:e})}}}async function Lw(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $i("Browser returned unexpected credential type",t)}:{data:null,error:new $i("Empty credential response",t)}}catch(t){return{data:null,error:Nw({error:t,options:e})}}}const Uw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Dw={userVerification:"preferred",hints:["security-key"]};function Li(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=Li(a,o):n[i]=Li(o)}else n[i]=o}return n}function Fw(e,t){return Li(Uw,e,t||{})}function zw(e,t){return Li(Dw,e,t||{})}class Mw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=s??Tw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Fw(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await $w({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=zw(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Lw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new lr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new cs("rpId is required for WebAuthn authentication")};try{if(!od())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new lr("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new cs("rpId is required for WebAuthn registration")};try{if(!od())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return P(o)?{data:null,error:o}:{data:null,error:new lr("Unexpected error in register",o)}}}}Sw();const Bw={url:Fy,storageKey:zy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:My,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ad(e,t,r){return await r()}const Or={};class ds{get jwks(){var t,r;return(r=(t=Or[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Or[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ds.nextInstanceID,ds.nextInstanceID+=1,this.instanceID>0&&Pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Bw),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Op(s.fetch),this.lock=s.lock||ad,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Pe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=bw:this.lock=ad,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Mw(this)},this.persistSession?(s.storage?this.storage=s.storage:Np()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=id(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=id(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jp}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=tw(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ky(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return P(r)?{error:r}:{error:new lr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Je}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await kr(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:w},xform:Je})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Je})}else throw new qs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nd})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nd})}else throw new qs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new jr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,l,u,d,h,f;let g,w;if("message"in t)g=t.message,w=t.signature;else{const{chain:y,wallet:x,statement:v,options:m}=t;let p;if(Pe())if(typeof x=="object")p=x;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")p=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=x}const b=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),E=await p.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Pp(E[0]);let k=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const R=await p.request({method:"eth_chainId"});k=Ew(R)}const j={domain:b.host,address:S,statement:v,uri:b.href,version:"1",chainId:k,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=kw(j),w=await p.request({method:"personal_sign",params:[jw(g),S]})}try{const{data:y,error:x}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Je});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new jr}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(P(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(t){var r,n,s,i,o,a,l,u,d,h,f,g;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:x,wallet:v,statement:m,options:p}=t;let b;if(Pe())if(typeof v=="object")b=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))b=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const E=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const S=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),m?{statement:m}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:x,error:v}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:hr(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Je});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new jr}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(P(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await nr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Je});if(await jt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new jr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(P(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Je}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new jr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await kr(this.storage,this.storageKey));const{error:h}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new qs("You must provide either an email or phone number.")}catch(a){if(P(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Je});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(P(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await kr(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:vw})}catch(i){if(P(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new kt;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(P(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await A(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await A(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new qs("You must provide either an email or phone number and a type")}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await nr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await nr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Vo()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Pt})})}catch(r){if(P(r))return Hy(r)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new kt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await kr(this.storage,this.storageKey));const{data:u,error:d}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Pt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new kt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Bo(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(P(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new kt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Pe())throw new Hs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Hs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qc("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Hs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const g=f-d;g*1e3<=Tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(P(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await nr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(qy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ew(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await kr(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(P(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Pe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(P(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=t,h=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Je}),{data:f,error:g}=h;return g?{data:{user:null,session:null},error:g}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new jr}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:g})}catch(s){if(P(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sw(async s=>(s>0&&await nw(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Je})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Mo(i)&&Date.now()+o-n<Tr})}catch(n){if(this._debug(r,"error",n),P(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await nr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await nr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Pr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Vo()}else if(s&&!s.user&&!s.user){const o=await nr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await jt(this.storage,this.storageKey+"-user"),await Pr(this.storage,this.storageKey,s)):s.user=Vo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${zo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Mo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ro;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),P(i)){const o={data:null,error:i};return Mo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=td(s);await Pr(this.storage,this.storageKey,i)}else{const s=td(r);await Pr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Tr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Tr}ms, refresh threshold is ${Qa} ticks`),s<=Qa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Tp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await kr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await A(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await A(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(P(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Iw(t.webauthn.credential_response):Aw(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(P(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await A(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Pw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Rw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(P(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Bo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Vy>s)return n;const{data:i,error:o}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Bo(n);r!=null&&r.allowExpired||dw(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const d=hw(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Xy(`${a}.${l}`)))throw new Za("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}}ds.nextInstanceID=0;const Vw=ds;class Ww extends Vw{constructor(t){super(t)}}class qw{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const a=Dy(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Ty,realtime:Ry,auth:Object.assign(Object.assign({},Py),{storageKey:l}),global:Oy},d=Uy(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=$y(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Fv(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ky(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Pv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ww({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ry(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hw=(e,t,r)=>new qw(e,t,r);function Kw(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Kw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ip="https://twdnnaardhczqtcyfvsp.supabase.co",Ap="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3ZG5uYWFyZGhjenF0Y3lmdnNwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMzE3MDIsImV4cCI6MjA3NjgwNzcwMn0.khn1223_rsTQ6y0MV_Lq4ODt_izT0ukvEiJqi_4RskQ";(Ip.includes("ejemplo-proyecto")||Ap.includes("EJEMPLO"))&&console.warn("Estás usando credenciales de ejemplo para Supabase. La aplicación no se conectará a tu base de datos hasta que las reemplaces en `supabaseClient.ts`.");const M=Hw(Ip,Ap);var J=(e=>(e.USER="USER",e.FESTERO="FESTERO",e.ORGANIZER="ORGANIZER",e))(J||{}),Be=(e=>(e.INDIVIDUAL="individual",e.PAIR="pair",e.GROUP="group",e))(Be||{}),ke=(e=>(e.COMPETITION="COMPETITION",e.COMIDA="COMIDA",e.JUEGOS="JUEGOS",e.OTRO="OTRO",e))(ke||{});const du=async e=>{try{const{data:t,error:r}=await M.from("profiles").select("*").eq("id",e.id).single();if(r)throw console.error("Error fetching user profile:",r),r;return t}catch(t){return console.error("Error in getUserProfile:",t),null}},Gw=async(e,t)=>{const r=`${e.toLowerCase()}@fiestaspantano.local`,{data:{user:n},error:s}=await M.auth.signInWithPassword({email:r,password:t});if(s)throw s;if(!n)throw new Error("Login failed, user not found.");const i=await du(n);if(!i)throw new Error("Login failed, profile not found.");return i},Jw=async(e,t,r)=>{const n=`${e.toLowerCase()}@fiestaspantano.local`,{data:s,error:i}=await M.rpc("register_user",{p_username:e,p_email:n,p_password:t,p_access_code:r});if(i)throw i;const{data:{user:o},error:a}=await M.auth.signInWithPassword({email:n,password:t});if(a)throw a;if(!o)throw new Error("Registration succeeded, but login failed.");const l=await du(o);if(!l)throw new Error("Could not retrieve profile after registration.");return l},Qw=async()=>{const{error:e}=await M.auth.signOut();if(e)throw e},Yw=async e=>du(e),hu=async()=>{const{data:e,error:t}=await M.from("events").select("*").order("date",{ascending:!0});if(t)throw t;return e||[]},fu=async e=>{const{data:t,error:r}=await M.from("events").select("*").eq("id",e).single();if(r)throw r;if(!t)throw new Error("Event not found");return t},Xw=async e=>{const{data:t,error:r}=await M.from("events").insert([e]).select().single();if(r)throw r;return t},$p=async e=>{const{data:t,error:r}=await M.from("events").update(e).eq("id",e.id).select().single();if(r)throw r;return t},Zw=async e=>{const{error:t}=await M.from("events").delete().eq("id",e);if(t)throw t},el=async e=>{const{data:t,error:r}=await M.from("rsvps").select("*").eq("eventId",e);if(r)throw r;return t||[]},ex=async e=>{const{data:t,error:r}=await M.from("rsvps").select("*").or(`userId.eq.${e},participants.cs.{"userId":"${e}"}`);if(r)throw r;return t||[]},tx=async(e,t,r)=>{const n=await fu(e);if(!n)throw new Error("Event not found");const i=(await el(e)).reduce((d,h)=>d+h.participants.length,0);if(n.capacity&&i+r.length>n.capacity)throw new Error("Aforo completo. No hay suficientes plazas.");const{data:o}=await M.from("profiles").select("id, username").in("username",r),a=r.map(d=>{const h=o==null?void 0:o.find(f=>f.username===d);return{name:d,userId:(h==null?void 0:h.id)||null}}),l={eventId:e,userId:t,participants:a,isGroupLeader:!0,groupId:crypto.randomUUID()},{error:u}=await M.from("rsvps").insert([l]);if(u)throw u;return el(e)},rx=async(e,t)=>{const{error:r}=await M.from("rsvps").delete().match({eventId:e,userId:t});if(r)throw r},nx=async e=>{const{data:t,error:r}=await M.from("comments").select("*").eq("eventId",e).order("timestamp",{ascending:!0});if(r)throw r;return t||[]},sx=async(e,t,r)=>{const{data:n}=await M.from("profiles").select("username").eq("id",t).single();if(!n)throw new Error("User profile not found");const s={eventId:e,userId:t,username:n.username,text:r,timestamp:new Date().toISOString()},{data:i,error:o}=await M.from("comments").insert([s]).select().single();if(o)throw o;return i},ix=async(e,t,r)=>{const n=await fu(e);if(!n.bracket)throw new Error("This event does not have a bracket.");const s=n.bracket.find(i=>i.id===t);if(!s)throw new Error("Match not found.");return s.winner=r,await $p(n)},ox=async e=>{const{error:t}=await M.from("rsvps").delete().eq("id",e);if(t)throw t},ax=async(e,t,r)=>{const{data:n,error:s}=await M.from("profiles").select("id").eq("username",r).single();if(s||!n)throw new Error(`El usuario '${r}' no existe.`);const{data:i,error:o}=await M.from("rsvps").select("*").eq("id",e).single();if(o||!i)throw new Error("Inscripción no encontrada.");const a=i.participants.findIndex(d=>d.name===t&&d.userId===null);if(a===-1)throw new Error(`El participante '${t}' no está en la lista o ya está vinculado.`);i.participants[a].userId=n.id;const{data:l,error:u}=await M.from("rsvps").update({participants:i.participants}).eq("id",e).select().single();if(u)throw u;return l},lx=async()=>{const{data:e,error:t}=await M.from("profiles").select("id, username, role, registrationMethod");if(t)throw t;return e||[]},ux=async e=>{const{error:t}=await M.rpc("delete_user_by_admin",{user_id_to_delete:e});if(t)throw t},Lp=async(e,t,r,n)=>{const{data:s,error:i}=await M.rpc("create_user_by_admin",{p_username:e,p_password:t,p_role:r,p_creator_username:n.username});if(i)throw i;return s},cx=async(e,t,r)=>Lp(e,t,J.FESTERO,r),dx=async(e,t,r)=>Lp(e,t,J.USER,r),hx=async()=>{const{data:e,error:t}=await M.from("raffle").select("*").single();if(t)throw t;return e},fx=async e=>{const{data:t,error:r}=await M.from("raffle").update(e).eq("id",e.id).select().single();if(r)throw r;return t};let px={data:""},mx=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||px},gx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vx=/\/\*[^]*?\*\/|  +/g,ld=/\n+/g,Rt=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Rt(o,i):i+"{"+Rt(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Rt(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Rt.p?Rt.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},ct={},Up=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Up(e[r]);return t}return e},yx=(e,t,r,n,s)=>{let i=Up(e),o=ct[i]||(ct[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!ct[o]){let l=i!==e?e:(u=>{let d,h,f=[{}];for(;d=gx.exec(u.replace(vx,""));)d[4]?f.shift():d[3]?(h=d[3].replace(ld," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(ld," ").trim();return f[0]})(e);ct[o]=Rt(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&ct.g?ct.g:null;return r&&(ct.g=ct[o]),((l,u,d,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(ct[o],t,n,a),o},wx=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Rt(a,""):a===!1?"":a}return n+s+(o??"")},"");function no(e){let t=this||{},r=e.call?e(t.p):e;return yx(r.unshift?r.raw?wx(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,mx(t.target),t.g,t.o,t.k)}let Dp,tl,rl;no.bind({g:1});let _t=no.bind({k:1});function xx(e,t,r,n){Rt.p=t,Dp=e,tl=r,rl=n}function Xt(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:tl&&tl()},a),r.o=/ *go\d+/.test(l),a.className=no.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),rl&&u[0]&&rl(a),Dp(u,a)}return s}}var _x=e=>typeof e=="function",Ui=(e,t)=>_x(e)?e(t):e,bx=(()=>{let e=0;return()=>(++e).toString()})(),Fp=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Sx=20,pu="default",zp=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return zp(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},oi=[],Mp={toasts:[],pausedAt:void 0,settings:{toastLimit:Sx}},at={},Bp=(e,t=pu)=>{at[t]=zp(at[t]||Mp,e),oi.forEach(([r,n])=>{r===t&&n(at[t])})},Vp=e=>Object.keys(at).forEach(t=>Bp(e,t)),Ex=e=>Object.keys(at).find(t=>at[t].toasts.some(r=>r.id===e)),so=(e=pu)=>t=>{Bp(t,e)},jx={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},kx=(e={},t=pu)=>{let[r,n]=_.useState(at[t]||Mp),s=_.useRef(at[t]);_.useEffect(()=>(s.current!==at[t]&&n(at[t]),oi.push([t,n]),()=>{let o=oi.findIndex(([a])=>a===t);o>-1&&oi.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var a,l,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||jx[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:i}},Cx=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||bx()}),ys=e=>(t,r)=>{let n=Cx(t,e,r);return so(n.toasterId||Ex(n.id))({type:2,toast:n}),n.id},oe=(e,t)=>ys("blank")(e,t);oe.error=ys("error");oe.success=ys("success");oe.loading=ys("loading");oe.custom=ys("custom");oe.dismiss=(e,t)=>{let r={type:3,toastId:e};t?so(t)(r):Vp(r)};oe.dismissAll=e=>oe.dismiss(void 0,e);oe.remove=(e,t)=>{let r={type:4,toastId:e};t?so(t)(r):Vp(r)};oe.removeAll=e=>oe.remove(void 0,e);oe.promise=(e,t,r)=>{let n=oe.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Ui(t.success,s):void 0;return i?oe.success(i,{id:n,...r,...r==null?void 0:r.success}):oe.dismiss(n),s}).catch(s=>{let i=t.error?Ui(t.error,s):void 0;i?oe.error(i,{id:n,...r,...r==null?void 0:r.error}):oe.dismiss(n)}),e};var Nx=1e3,Ox=(e,t="default")=>{let{toasts:r,pausedAt:n}=kx(e,t),s=_.useRef(new Map).current,i=_.useCallback((h,f=Nx)=>{if(s.has(h))return;let g=setTimeout(()=>{s.delete(h),o({type:4,toastId:h})},f);s.set(h,g)},[]);_.useEffect(()=>{if(n)return;let h=Date.now(),f=r.map(g=>{if(g.duration===1/0)return;let w=(g.duration||0)+g.pauseDuration-(h-g.createdAt);if(w<0){g.visible&&oe.dismiss(g.id);return}return setTimeout(()=>oe.dismiss(g.id,t),w)});return()=>{f.forEach(g=>g&&clearTimeout(g))}},[r,n,t]);let o=_.useCallback(so(t),[t]),a=_.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=_.useCallback((h,f)=>{o({type:1,toast:{id:h,height:f}})},[o]),u=_.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=_.useCallback((h,f)=>{let{reverseOrder:g=!1,gutter:w=8,defaultPosition:y}=f||{},x=r.filter(p=>(p.position||y)===(h.position||y)&&p.height),v=x.findIndex(p=>p.id===h.id),m=x.filter((p,b)=>b<v&&p.visible).length;return x.filter(p=>p.visible).slice(...g?[m+1]:[0,m]).reduce((p,b)=>p+(b.height||0)+w,0)},[r]);return _.useEffect(()=>{r.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let f=s.get(h.id);f&&(clearTimeout(f),s.delete(h.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:d}}},Tx=_t`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Px=_t`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rx=_t`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ix=Xt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Px} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Rx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ax=_t`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$x=Xt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Ax} 1s linear infinite;
`,Lx=_t`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ux=_t`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Dx=Xt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Lx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ux} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Fx=Xt("div")`
  position: absolute;
`,zx=Xt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Mx=_t`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bx=Xt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Mx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Vx=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?_.createElement(Bx,null,t):t:r==="blank"?null:_.createElement(zx,null,_.createElement($x,{...n}),r!=="loading"&&_.createElement(Fx,null,r==="error"?_.createElement(Ix,{...n}):_.createElement(Dx,{...n})))},Wx=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qx=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Hx="0%{opacity:0;} 100%{opacity:1;}",Kx="0%{opacity:1;} 100%{opacity:0;}",Gx=Xt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Jx=Xt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Qx=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Fp()?[Hx,Kx]:[Wx(r),qx(r)];return{animation:t?`${_t(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_t(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Yx=_.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?Qx(e.position||t||"top-center",e.visible):{opacity:0},i=_.createElement(Vx,{toast:e}),o=_.createElement(Jx,{...e.ariaProps},Ui(e.message,e));return _.createElement(Gx,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):_.createElement(_.Fragment,null,i,o))});xx(_.createElement);var Xx=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=_.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return _.createElement("div",{ref:i,className:t,style:r},s)},Zx=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Fp()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},e_=no`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ks=16,t_=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=Ox(r,i);return _.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Ks,left:Ks,right:Ks,bottom:Ks,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let h=d.position||t,f=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),g=Zx(h,f);return _.createElement(Xx,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?e_:"",style:g},d.type==="custom"?Ui(d.message,d):s?s(d):_.createElement(Yx,{toast:d,position:h}))}))},U=oe;const Wp=_.createContext(void 0),r_=({children:e})=>{const[t,r]=_.useState(null),[n,s]=_.useState(!0);_.useEffect(()=>{const l=async d=>{if(d){const h=await Yw(d);r(h)}else r(null);s(!1)};M.auth.getSession().then(({data:{session:d}})=>{l((d==null?void 0:d.user)??null)});const{data:{subscription:u}}=M.auth.onAuthStateChange((d,h)=>{l((h==null?void 0:h.user)??null)});return()=>{u.unsubscribe()}},[]);const i=async(l,u)=>{s(!0);try{const d=await Gw(l,u);return r(d),U.success(`Welcome back, ${d.username}!`),!0}catch(d){return U.error(d.message||"Login failed"),!1}finally{s(!1)}},o=async(l,u,d)=>{s(!0);try{const h=await Jw(l,u,d);return r(h),U.success(`Welcome, ${h.username}! You are now logged in.`),!0}catch(h){return U.error(h.message||"Registration failed"),!1}finally{s(!1)}},a=async()=>{await Qw(),r(null),U.success("You have been logged out.")};return c.jsx(Wp.Provider,{value:{user:t,login:i,register:o,logout:a,isLoading:n},children:!n&&e})},Zt=()=>{const e=_.useContext(Wp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},n_=()=>{const{user:e,logout:t}=Zt(),r=hn(),[n,s]=_.useState(!1),i=_.useRef(null),o=(e==null?void 0:e.role)===J.FESTERO||(e==null?void 0:e.role)===J.ORGANIZER;_.useEffect(()=>{const u=d=>{i.current&&!i.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const a=()=>{t(),r("/")},l=({to:u,children:d,onClick:h})=>c.jsx(he,{to:u,className:"block px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white",onClick:h,children:d});return c.jsx("header",{className:"bg-gray-800 shadow-lg",children:c.jsxs("div",{className:"container mx-auto px-4 md:px-8 flex justify-between items-center py-4",children:[c.jsx("div",{className:"flex items-center space-x-4",children:c.jsxs("div",{className:"relative",ref:i,children:[c.jsxs("button",{onClick:()=>s(!n),className:"flex items-center text-2xl font-bold text-white hover:text-cyan-400 transition duration-300",children:["Fiestas Pantano",c.jsx("svg",{className:`ml-2 h-5 w-5 transition-transform ${n?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),n&&c.jsx("div",{className:"absolute left-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg z-20 border border-gray-700",children:c.jsxs("div",{className:"py-1",children:[c.jsx(l,{to:"/",onClick:()=>s(!1),children:"Eventos"}),c.jsx(l,{to:"/raffle",onClick:()=>s(!1),children:"La Última Rifa"}),o&&c.jsx(l,{to:"/dashboard",onClick:()=>s(!1),children:"Dashboard"})]})})]})}),c.jsx("div",{className:"flex items-center space-x-4",children:e?c.jsxs(c.Fragment,{children:[c.jsxs(he,{to:"/profile",className:"flex items-center space-x-2 text-gray-300 hover:text-cyan-400",children:[c.jsx(s_,{}),c.jsx("span",{children:e.username})]}),c.jsx("button",{onClick:a,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300",children:"Logout"})]}):c.jsxs(c.Fragment,{children:[c.jsx(he,{to:"/login",className:"text-gray-300 hover:text-cyan-400 transition duration-300",children:"Login"}),c.jsx(he,{to:"/register",className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300",children:"Register"})]})})]})})},s_=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i_=()=>{const[e,t]=_.useState([]),[r,n]=_.useState([]),[s,i]=_.useState(!0),[o,a]=_.useState(null),[l,u]=_.useState(!1),[d,h]=_.useState(""),[f,g]=_.useState(""),[w,y]=_.useState(""),[x,v]=_.useState("");_.useEffect(()=>{(async()=>{i(!0),a(null);try{const b=await hu();t(b),n(b)}catch(b){console.error("Failed to fetch data:",b);const E=b.message||"A network error occurred. Please check your connection or Supabase credentials.";a(E),U.error("Failed to load page data.")}finally{i(!1)}})()},[]),_.useEffect(()=>{let p=[...e];if(d&&(p=p.filter(b=>b.title.toLowerCase().includes(d.toLowerCase())||b.description.toLowerCase().includes(d.toLowerCase()))),f){const b=new Date(f);p=p.filter(E=>{const S=new Date(E.date);return S.setUTCHours(0,0,0,0),S>=b})}if(w){const b=new Date(w);p=p.filter(E=>{const S=new Date(E.date);return S.setUTCHours(0,0,0,0),S<=b})}x&&(p=p.filter(b=>b.eventType===x)),n(p)},[d,f,w,x,e]);const m=()=>{h(""),g(""),y(""),v("")};return o?c.jsxs("div",{className:"bg-red-900/50 border border-red-700 text-red-200 p-6 rounded-lg shadow-lg max-w-3xl mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"Error de Conexión a la Base de Datos"}),c.jsx("p",{className:"text-sm text-red-300",children:"No se pudieron cargar los datos. La aplicación no puede comunicarse con el servidor de Supabase."})]})]}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-red-700/50",children:[c.jsx("p",{className:"text-md font-semibold text-white",children:"Pasos para solucionarlo:"}),c.jsxs("ol",{className:"list-decimal list-inside text-sm space-y-2 mt-2 text-gray-300",children:[c.jsxs("li",{children:["Abre el fichero ",c.jsx("strong",{children:c.jsx("code",{children:"supabaseClient.ts"})})," en el editor de código."]}),c.jsxs("li",{children:["Asegúrate de que las variables ",c.jsx("code",{children:"supabaseUrl"})," y ",c.jsx("code",{children:"supabaseAnonKey"})," contienen las credenciales ",c.jsx("strong",{children:"reales"})," de tu proyecto de Supabase, no los valores de ejemplo."]}),c.jsxs("li",{children:["Revisa la consola del navegador (presiona F12) para ver el mensaje de error específico, que fue:",c.jsx("pre",{className:"mt-2 text-xs bg-gray-900 p-2 rounded font-mono whitespace-pre-wrap text-red-300",children:o})]}),c.jsx("li",{children:"Asegúrate de haber ejecutado todo el código SQL (creación de tablas y funciones RPC) en tu editor de SQL de Supabase."})]})]})]}):s?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})}):c.jsx("div",{children:c.jsxs("section",{id:"events-section",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-cyan-400 tracking-wider",children:"Próximos Eventos"}),c.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})}),"Filtrar Eventos"]})]}),l&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 w-full max-w-lg relative",children:[c.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white text-2xl",children:"×"}),c.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Filtrar Eventos"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"searchQuery",className:"block text-sm font-medium text-gray-300 mb-1",children:"Buscar por palabra clave"}),c.jsx("input",{id:"searchQuery",type:"text",placeholder:"Paella, Torneo, Orquesta...",value:d,onChange:p=>h(p.target.value),className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"filterDateStart",className:"block text-sm font-medium text-gray-300 mb-1",children:"Desde"}),c.jsx("input",{id:"filterDateStart",type:"date",value:f,onChange:p=>g(p.target.value),className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"filterDateEnd",className:"block text-sm font-medium text-gray-300 mb-1",children:"Hasta"}),c.jsx("input",{id:"filterDateEnd",type:"date",value:w,onChange:p=>y(p.target.value),className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"filterEventType",className:"block text-sm font-medium text-gray-300 mb-1",children:"Categoría"}),c.jsxs("select",{id:"filterEventType",value:x,onChange:p=>v(p.target.value),className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[c.jsx("option",{value:"",children:"Todas"}),Object.values(ke).map(p=>c.jsx("option",{value:p,children:p.charAt(0)+p.slice(1).toLowerCase()},p))]})]})]}),c.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[c.jsx("button",{onClick:m,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg transition duration-300",children:"Limpiar Filtros"}),c.jsx("button",{onClick:()=>u(!1),className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300",children:"Cerrar"})]})]})}),r.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(p=>c.jsx(a_,{event:p},p.id))}):c.jsx("p",{className:"text-center text-gray-400",children:e.length>0?"No hay eventos que coincidan con tu búsqueda.":"No hay eventos programados por el momento."})]})})},o_=({type:e})=>{const r={[ke.COMPETITION]:{text:"Competición",className:"bg-blue-500 text-white"},[ke.COMIDA]:{text:"Comida",className:"bg-orange-500 text-white"},[ke.JUEGOS]:{text:"Juegos",className:"bg-green-500 text-white"},[ke.OTRO]:{text:"Evento",className:"bg-purple-500 text-white"}}[e];return c.jsx("span",{className:`absolute top-2 right-2 text-xs font-semibold px-2 py-1 rounded-full ${r.className}`,children:r.text})},a_=({event:e})=>c.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-cyan-500/50 transition-shadow duration-300 flex flex-col relative",children:[c.jsx(o_,{type:e.eventType}),c.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover"}),c.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[c.jsx("h3",{className:"text-2xl font-bold mb-2 text-white",children:e.title}),c.jsxs("p",{className:"text-gray-400 mb-4 flex-grow",children:[e.description.substring(0,100),"..."]}),c.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Fecha:"})," ",new Date(e.date).toLocaleDateString()]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Hora:"})," ",e.time]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Lugar:"})," ",e.location]})]}),c.jsx(he,{to:`/event/${e.id}`,className:"mt-auto text-center bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300",children:"Ver Detalles"})]})]}),l_=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(!1),{login:o}=Zt(),a=hn(),l=async u=>{u.preventDefault(),i(!0),await o(e,r)&&a("/"),i(!1)};return c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-xl shadow-2xl",children:[c.jsx("h2",{className:"text-3xl font-bold text-center text-white",children:"Login"}),c.jsxs("form",{className:"space-y-6",onSubmit:l,children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-gray-300",children:"Username"}),c.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:e,onChange:u=>t(u.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-300",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:u=>n(u.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 px-4 bg-cyan-600 hover:bg-cyan-700 text-white font-bold rounded-lg transition duration-300 disabled:bg-cyan-800 disabled:cursor-not-allowed",children:s?"Logging in...":"Login"})]}),c.jsxs("p",{className:"text-center text-sm text-gray-400",children:["No tienes cuenta?"," ",c.jsx(he,{to:"/register",className:"font-medium text-cyan-400 hover:text-cyan-300",children:"Regístrate"})]})]})})},u_=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(""),[o,a]=_.useState(!1),[l,u]=_.useState(!1),{register:d}=Zt(),h=hn(),f=async g=>{if(g.preventDefault(),!o){alert("Debes aceptar los Términos de Uso y la Política de Privacidad para registrarte.");return}u(!0),await d(e,r,s)&&h("/"),u(!1)};return c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-xl shadow-2xl",children:[c.jsx("h2",{className:"text-3xl font-bold text-center text-white",children:"Register"}),c.jsxs("form",{className:"space-y-6",onSubmit:f,children:[c.jsx("div",{className:"bg-cyan-900/50 border border-cyan-700 text-cyan-200 text-sm p-3 rounded-lg",children:c.jsxs("p",{children:[c.jsx("strong",{children:"Aviso:"})," El nombre de usuario será público en las listas de eventos. Por favor, usa un nombre que sea reconocible por el resto de festeros."]})}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"text-sm font-medium text-gray-300",children:"Username"}),c.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:e,onChange:g=>t(g.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-300",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:r,onChange:g=>n(g.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"accessCode",className:"text-sm font-medium text-gray-300",children:"Código de Acceso"}),c.jsx("input",{id:"accessCode",name:"accessCode",type:"text",required:!0,value:s,onChange:g=>i(g.target.value),className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"FP26-XXXXX"})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("input",{id:"agree",name:"agree",type:"checkbox",checked:o,onChange:g=>a(g.target.checked),required:!0,className:"h-4 w-4 mt-1 flex-shrink-0 text-cyan-600 focus:ring-cyan-500 border-gray-500 rounded bg-gray-700"}),c.jsxs("label",{htmlFor:"agree",className:"ml-2 block text-sm text-gray-400",children:["He leído y acepto los"," ",c.jsx(he,{to:"/terms-of-service",target:"_blank",className:"text-cyan-400 hover:text-cyan-300 underline",children:"Términos de Uso"})," ","y la"," ",c.jsx(he,{to:"/privacy-policy",target:"_blank",className:"text-cyan-400 hover:text-cyan-300 underline",children:"Política de Privacidad"})]})]}),c.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-cyan-600 hover:bg-cyan-700 text-white font-bold rounded-lg transition duration-300 disabled:bg-cyan-800 disabled:cursor-not-allowed",children:l?"Registering...":"Register"})]}),c.jsxs("p",{className:"text-center text-sm text-gray-400",children:["Ya tienes cuenta?"," ",c.jsx(he,{to:"/login",className:"font-medium text-cyan-400 hover:text-cyan-300",children:"Inicia sesión"})]})]})})},c_=({event:e,rsvps:t,isFestero:r,onWinnerSelect:n})=>{if(!e.bracket||e.bracket.length===0)return c.jsx("p",{className:"text-gray-400",children:"El bracket se generará cuando haya al menos 2 equipos apuntados."});const s=a=>{var u;if(!a)return c.jsx("span",{className:"text-gray-500",children:"Por determinar"});const l=t.find(d=>d.id===a);return l?((u=l.participants[0])==null?void 0:u.name)||"Equipo sin nombre":c.jsx("span",{className:"text-gray-500",children:"Equipo no encontrado"})},i=Math.max(...e.bracket.map(a=>a.round)),o=[];for(let a=1;a<=i;a++)o.push(e.bracket.filter(l=>l.round===a).sort((l,u)=>l.matchInRound-u.matchInRound));return c.jsx("div",{className:"flex space-x-4 md:space-x-8 overflow-x-auto pb-4",children:o.map((a,l)=>c.jsxs("div",{className:"flex flex-col space-y-4 md:space-y-8 flex-shrink-0",children:[c.jsxs("h4",{className:"text-xl font-bold text-center text-cyan-300",children:["Ronda ",l+1]}),a.map(u=>c.jsx("div",{className:"bg-gray-700 p-3 rounded-lg w-48 md:w-56",children:c.jsxs("ul",{className:"space-y-2",children:[u.participants.map((d,h)=>{const f=s(d),g=u.winner===d,w=r&&u.participants[0]&&u.participants[1]&&!u.winner;return c.jsxs("li",{className:`
                                                flex justify-between items-center text-sm p-2 rounded 
                                                ${g?"bg-green-600 font-bold":"bg-gray-800"}
                                                ${w&&d?"cursor-pointer hover:bg-cyan-700":""}
                                            `,onClick:()=>w&&d&&n(u.id,d),children:[c.jsx("span",{className:"truncate",children:f}),g&&c.jsx("span",{className:"text-xs ml-2",children:"🏆"})]},h)}),!u.participants[1]&&u.participants[0]&&c.jsx("li",{className:"bg-gray-800 text-sm p-2 rounded text-gray-500 italic",children:"BYE"})]})},u.id))]},l))})},d_=()=>{const{id:e}=X0(),t=hn(),{user:r}=Zt(),[n,s]=_.useState(null),[i,o]=_.useState([]),[a,l]=_.useState([]),[u,d]=_.useState(!0),[h,f]=_.useState(!1),g=(r==null?void 0:r.role)===J.FESTERO||(r==null?void 0:r.role)===J.ORGANIZER,w=r?i.find(j=>j.participants.some(R=>R.userId===r.id)):null,y=async()=>{if(e){d(!0);try{const j=await fu(e),R=await nx(e);s(j),l(R);const I=await el(e);o(I)}catch{U.error("Event not found."),t("/")}finally{d(!1)}}};_.useEffect(()=>{y()},[e,r,t]);const x=j=>{o(j),f(!1),y()},v=async()=>{if(!(!e||!r)&&window.confirm("¿Seguro que quieres desapuntar a tu grupo de este evento? Esta acción no se puede deshacer."))try{await rx(e,r.id),U.success("Tu grupo ha sido desapuntado."),y()}catch(j){U.error(j.message||"No se pudo abandonar el evento.")}},m=async j=>{if(r&&window.confirm("¿Seguro que quieres desapuntar a este grupo? Esta acción no se puede deshacer."))try{await ox(j),U.success("Grupo desapuntado."),y()}catch(R){U.error(R.message||"No se pudo desapuntar al grupo.")}},p=async(j,R)=>{if(e)try{const I=await ix(e,j,R);s(I),U.success("Ganador actualizado.")}catch(I){U.error(I.message||"No se pudo actualizar el ganador.")}},b=j=>{l(R=>[...R,j])};if(u)return c.jsx("div",{className:"text-center p-10",children:"Loading Event..."});if(!n)return c.jsx("div",{className:"text-center p-10",children:"Event not found."});const E=i.reduce((j,R)=>j+R.participants.length,0),S=n.capacity?n.capacity-E:0,k=!!w;return c.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-2xl overflow-hidden",children:[c.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-64 md:h-96 object-cover"}),c.jsxs("div",{className:"p-8 md:p-12 space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:n.title}),c.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-2 text-gray-300 mb-6",children:[c.jsxs("span",{children:[c.jsx("strong",{children:"Fecha:"})," ",new Date(n.date).toLocaleDateString()]}),c.jsxs("span",{children:[c.jsx("strong",{children:"Hora:"})," ",n.time]}),c.jsxs("span",{children:[c.jsx("strong",{children:"Lugar:"})," ",n.location]})]}),c.jsx("p",{className:"text-gray-200 leading-relaxed",children:n.description})]}),n.eventType===ke.COMPETITION?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[c.jsx("h3",{className:"text-2xl font-semibold mb-4 text-cyan-400",children:"Asistencia (Competición)"}),c.jsxs("p",{className:"text-lg mb-2",children:["Plazas disponibles: ",c.jsxs("span",{className:"font-bold text-white",children:[S>0?S:0," / ",n.capacity]})]}),r?c.jsx(c.Fragment,{children:k?c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("p",{className:"text-green-400 font-bold text-lg",children:"¡Ya estás apuntado a este evento!"}),c.jsx("button",{onClick:v,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300",children:"Abandonar Evento"})]}):S>0?c.jsx("button",{onClick:()=>f(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 text-lg",children:"Apuntarse"}):c.jsx("p",{className:"text-red-400 font-bold text-lg",children:"¡Aforo completo!"})}):c.jsx("p",{className:"text-amber-400",children:"Debes iniciar sesión para apuntarte."})]}),n.bracket&&n.bracket.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-semibold mb-4 text-cyan-400",children:"Tabla de Enfrentamientos"}),c.jsx(c_,{event:n,rsvps:i,isFestero:g,onWinnerSelect:p})]}),g&&c.jsxs("div",{children:[c.jsxs("h3",{className:"text-2xl font-semibold mb-4 text-cyan-400",children:["Lista de Asistentes (",E,")"]}),i.length>0?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:i.map(j=>c.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg flex flex-col",children:[c.jsx("ul",{className:"space-y-1 mb-2",children:j.participants.map((R,I)=>c.jsxs("li",{className:"text-sm truncate",children:[c.jsx("span",{className:`font-semibold ${I===0?"text-cyan-300":"text-gray-300"}`,children:R.name}),I===0&&c.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(Líder)"})]},I))}),c.jsx("button",{onClick:()=>m(j.id),className:"mt-auto text-xs bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-lg transition duration-300 w-full",children:"Desapuntar Grupo"})]},j.id))}):c.jsx("p",{children:"Nadie se ha apuntado todavía."})]})]}):c.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[c.jsx("h3",{className:"text-2xl font-semibold mb-2 text-cyan-400",children:"Asistencia"}),c.jsx("p",{className:"text-lg text-green-400",children:"Este evento es de acceso libre. ¡No es necesario apuntarse!"})]}),c.jsxs("div",{className:"border-t border-gray-700 pt-8",children:[c.jsx("h3",{className:"text-2xl font-semibold mb-4 text-cyan-400",children:"Foro del Evento"}),c.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-4",children:a.length>0?a.map(j=>c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("p",{className:"font-bold text-white",children:j.username}),c.jsx("p",{className:"text-xs text-gray-400",children:new Date(j.timestamp).toLocaleString()})]}),c.jsx("p",{className:"text-gray-300",children:j.text})]},j.id)):c.jsx("p",{children:"No hay comentarios todavía. ¡Sé el primero!"})}),r?c.jsx(f_,{eventId:n.id,user:r,onNewComment:b}):c.jsx("p",{className:"mt-4 text-amber-400",children:"Debes iniciar sesión para dejar un comentario."})]})]}),h&&r&&n.eventType===ke.COMPETITION&&c.jsx(h_,{event:n,user:r,onClose:()=>f(!1),onRsvpSuccess:x,isFestero:g})]})},h_=({event:e,user:t,onClose:r,onRsvpSuccess:n,isFestero:s})=>{const o=(()=>{if(e.eventType!==ke.COMPETITION)return 1;switch(e.rsvpType){case Be.INDIVIDUAL:return 1;case Be.PAIR:return 2;case Be.GROUP:return e.maxGroupSize||1;default:return 1}})(),[a,l]=_.useState(Array(o).fill("")),[u,d]=_.useState(!1);_.useEffect(()=>{if(!s){const w=[...a];w[0]=t.username,l(w)}},[t.username,s]);const h=(w,y)=>{const x=[...a];x[w]=y,l(x)},f=async w=>{w.preventDefault(),d(!0);const y=a.filter(x=>x.trim()!=="");if(y.length===0){U.error("Debes añadir al menos un participante."),d(!1);return}try{const x=await tx(e.id,t.id,y);U.success("¡Grupo apuntado correctamente!"),n(x)}catch(x){U.error(x.message||"No se pudo completar la inscripción.")}finally{d(!1)}},g=()=>{if(e.eventType!==ke.COMPETITION)return"";switch(e.rsvpType){case Be.INDIVIDUAL:return"Individual";case Be.PAIR:return"Por Parejas";case Be.GROUP:return`En Grupos (hasta ${e.maxGroupSize} personas)`;default:return""}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 w-full max-w-lg relative",children:[c.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:"×"}),c.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Inscripción a: ",e.title]}),c.jsxs("p",{className:"mb-4 text-cyan-400 font-semibold",children:["Tipo de inscripción: ",g()]}),c.jsxs("form",{onSubmit:f,children:[c.jsx("div",{className:"space-y-4",children:Array.from({length:o}).map((w,y)=>c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-300",children:["Participante ",y+1," ",y===0&&!s?"(Tú)":""]}),c.jsx("input",{type:"text",value:a[y],onChange:x=>h(y,x.target.value),readOnly:y===0&&!s,placeholder:y===0&&s?"Nombre del líder del grupo":"Introduce el nombre del acompañante",className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 disabled:bg-gray-600",disabled:y===0&&!s,required:y===0||y<2&&(e.rsvpType==="pair"||e.rsvpType==="group"&&o>1)})]},y))}),c.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:r,className:"py-2 px-4 bg-gray-600 hover:bg-gray-500 text-white rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:u,className:"py-2 px-4 bg-cyan-600 hover:bg-cyan-700 text-white font-bold rounded-lg disabled:bg-cyan-800",children:u?"Inscribiendo...":"Confirmar"})]})]})]})})},f_=({eventId:e,user:t,onNewComment:r})=>{const[n,s]=_.useState(""),[i,o]=_.useState(!1),a=async l=>{if(l.preventDefault(),!!n.trim()){o(!0);try{const u=await sx(e,t.id,n.trim());r(u),s(""),U.success("Comentario publicado.")}catch{U.error("No se pudo publicar el comentario.")}finally{o(!1)}}};return c.jsxs("form",{onSubmit:a,className:"mt-6",children:[c.jsx("textarea",{value:n,onChange:l=>s(l.target.value),placeholder:"Escribe tu comentario...",rows:3,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500",required:!0}),c.jsx("button",{type:"submit",disabled:i,className:"mt-2 py-2 px-6 bg-cyan-600 hover:bg-cyan-700 text-white font-bold rounded-lg disabled:bg-cyan-800",children:i?"Publicando...":"Publicar"})]})},p_=({event:e,onSuccess:t})=>{const[r,n]=_.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",date:e!=null&&e.date?new Date(e.date).toISOString().split("T")[0]:"",time:(e==null?void 0:e.time)||"",location:(e==null?void 0:e.location)||"",imageUrl:(e==null?void 0:e.imageUrl)||"",eventType:(e==null?void 0:e.eventType)||ke.OTRO,capacity:(e==null?void 0:e.capacity)||50,rsvpType:(e==null?void 0:e.rsvpType)||Be.INDIVIDUAL,maxGroupSize:(e==null?void 0:e.maxGroupSize)||4}),[s,i]=_.useState((e==null?void 0:e.imageUrl)||null),[o,a]=_.useState(!1),l=h=>{const{name:f,value:g}=h.target;n(w=>({...w,[f]:f==="capacity"||f==="maxGroupSize"?parseInt(g):g}))},u=h=>{if(h.target.files&&h.target.files[0]){const f=h.target.files[0],g=new FileReader;g.onloadend=()=>{const w=g.result;n(y=>({...y,imageUrl:w})),i(w)},g.readAsDataURL(f)}},d=async h=>{h.preventDefault(),a(!0);try{let f={...r};r.eventType!==ke.COMPETITION&&(delete f.capacity,delete f.rsvpType,delete f.maxGroupSize),e?(await $p({...f,id:e.id}),U.success("Event updated successfully!")):(await Xw(f),U.success("Event created successfully!")),t()}catch{U.error("An error occurred.")}finally{a(!1)}};return c.jsxs("form",{onSubmit:d,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),c.jsx("input",{type:"text",name:"title",value:r.title,onChange:l,required:!0,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),c.jsx("textarea",{name:"description",value:r.description,onChange:l,required:!0,rows:4,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date"}),c.jsx("input",{type:"date",name:"date",value:r.date,onChange:l,required:!0,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Time"}),c.jsx("input",{type:"time",name:"time",value:r.time,onChange:l,required:!0,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Location"}),c.jsx("input",{type:"text",name:"location",value:r.location,onChange:l,required:!0,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Image"}),c.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:u,className:"w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-cyan-600 file:text-white hover:file:bg-cyan-700"}),s&&c.jsx("img",{src:s,alt:"Preview",className:"mt-2 h-32 w-auto rounded-lg object-cover"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Categoría del Evento"}),c.jsx("select",{name:"eventType",value:r.eventType,onChange:l,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500",children:Object.values(ke).map(h=>c.jsx("option",{value:h,children:h.charAt(0)+h.slice(1).toLowerCase()},h))})]}),r.eventType===ke.COMPETITION&&c.jsxs("div",{className:"p-4 border border-gray-600 rounded-lg space-y-4 bg-gray-900/50",children:[c.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Detalles de Competición"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Aforo"}),c.jsx("input",{type:"number",name:"capacity",value:r.capacity,onChange:l,required:!0,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tipo de Inscripción"}),c.jsxs("select",{name:"rsvpType",value:r.rsvpType,onChange:l,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[c.jsx("option",{value:Be.INDIVIDUAL,children:"Individual"}),c.jsx("option",{value:Be.PAIR,children:"Pareja"}),c.jsx("option",{value:Be.GROUP,children:"Grupo"})]})]})]}),r.rsvpType===Be.GROUP&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tamaño Máx. de Grupo"}),c.jsx("input",{type:"number",name:"maxGroupSize",value:r.maxGroupSize,onChange:l,required:!0,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsx("button",{type:"submit",disabled:o,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg disabled:bg-cyan-800",children:o?"Saving...":"Save Event"})})]})},m_=({creator:e,onSuccess:t})=>{const[r,n]=_.useState(""),[s,i]=_.useState(""),[o,a]=_.useState(!1),l=async u=>{u.preventDefault(),a(!0);try{await cx(r,s,e),U.success(`Usuario Festero '${r}' creado con éxito!`),n(""),i(""),t()}catch(d){U.error(d.message||"Fallo al crear el usuario festero.")}finally{a(!1)}};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4 text-cyan-400",children:"Crear Nuevo Festero"}),c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"festero_username",className:"block text-sm font-medium text-gray-300 mb-1",children:"Username"}),c.jsx("input",{id:"festero_username",type:"text",value:r,onChange:u=>n(u.target.value),required:!0,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"festero_password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),c.jsx("input",{id:"festero_password",type:"password",value:s,onChange:u=>i(u.target.value),required:!0,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"submit",disabled:o,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300 disabled:bg-cyan-800",children:o?"Creando...":"Crear Festero"})})]})]})},g_=({creator:e,onSuccess:t})=>{const[r,n]=_.useState(""),[s,i]=_.useState(""),[o,a]=_.useState(!1),l=async u=>{u.preventDefault(),a(!0);try{await dx(r,s,e),U.success(`Usuario '${r}' creado con éxito!`),n(""),i(""),t()}catch(d){U.error(d.message||"Fallo al crear el usuario.")}finally{a(!1)}};return c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4 text-amber-400",children:"Crear Nuevo Usuario Normal"}),c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"normal_username",className:"block text-sm font-medium text-gray-300 mb-1",children:"Username"}),c.jsx("input",{id:"normal_username",type:"text",value:r,onChange:u=>n(u.target.value),required:!0,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"normal_password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),c.jsx("input",{id:"normal_password",type:"password",value:s,onChange:u=>i(u.target.value),required:!0,className:"w-full bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-amber-500"})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("button",{type:"submit",disabled:o,className:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300 disabled:bg-amber-800",children:o?"Creando...":"Crear Usuario"})})]})]})},v_=({role:e})=>{const t={[J.USER]:"bg-gray-500 text-white",[J.FESTERO]:"bg-amber-500 text-white",[J.ORGANIZER]:"bg-cyan-500 text-white"};return c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t[e]}`,children:e})},y_=({currentUser:e,users:t,isLoading:r,onDataRefresh:n})=>{const[s,i]=_.useState(""),[o,a]=_.useState(""),[l,u]=_.useState(null),[d,h]=_.useState(!1),[f,g]=_.useState({key:"registrationDate",direction:"descending"}),w=_.useMemo(()=>t.filter(S=>{const k=S.username.toLowerCase().includes(s.toLowerCase()),j=o?S.role===o:!0;return k&&j}),[t,s,o]),y=_.useMemo(()=>{let S=[...w];return S.sort((k,j)=>{let R=0;if(f.key==="username")R=k.username.localeCompare(j.username);else if(f.key==="role")R=k.role.localeCompare(j.role);else if(f.key==="registrationDate"){const I=parseInt(k.id.split("-")[1]||"0",10),Te=parseInt(j.id.split("-")[1]||"0",10);R=I-Te}return f.direction==="ascending"?R:-R}),S},[w,f]),x=S=>{let k="ascending";f.key===S&&f.direction==="ascending"&&(k="descending"),g({key:S,direction:k})},v=S=>{u(S)},m=async()=>{if(l){h(!0);try{await ux(l.id),U.success(`Usuario '${l.username}' eliminado.`),n(),u(null)}catch(S){U.error(S.message||"Fallo al eliminar el usuario.")}finally{h(!1)}}},p=S=>{switch(S.method){case"accessCode":return`Código: ${S.details}`;case"festeroCreation":return`Creado por Festero: ${S.details}`;case"organizerCreation":return`Creado por Organizador: ${S.details}`;case"initialSeed":return"Usuario Inicial";default:return"Desconocido"}},b=({direction:S})=>{const k="h-4 w-4";return S==="ascending"?c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:k,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 15l7-7 7 7"})}):c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:k,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})},E=({title:S,sortKey:k})=>{const j=f.key===k;return c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>x(k),className:"flex items-center gap-2 hover:text-cyan-300 transition-colors focus:outline-none",children:[c.jsx("span",{children:S}),j&&c.jsx(b,{direction:f.direction})]})})};return r?c.jsx("div",{className:"p-4 text-center",children:"Cargando usuarios..."}):c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4 text-cyan-400",children:"Gestión de Usuarios"}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[c.jsx("input",{type:"text",placeholder:"Buscar por nombre de usuario...",value:s,onChange:S=>i(S.target.value),className:"w-full md:w-1/2 bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),c.jsxs("select",{value:o,onChange:S=>a(S.target.value),className:"w-full md:w-1/4 bg-gray-700 p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[c.jsx("option",{value:"",children:"Todos los Roles"}),Object.values(J).map(S=>c.jsx("option",{value:S,children:S},S))]})]}),c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-gray-700",children:c.jsxs("tr",{children:[c.jsx(E,{title:"Username",sortKey:"username"}),c.jsx(E,{title:"Rol",sortKey:"role"}),c.jsx(E,{title:"Método / Fecha de Registro",sortKey:"registrationDate"}),c.jsx("th",{className:"p-3 text-right",children:"Acciones"})]})}),c.jsx("tbody",{children:y.map(S=>c.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:S.username}),c.jsx("td",{className:"p-3",children:c.jsx(v_,{role:S.role})}),c.jsx("td",{className:"p-3 text-sm text-gray-400",children:p(S.registrationMethod)}),c.jsx("td",{className:"p-3 text-right",children:S.id!==e.id?c.jsx("button",{onClick:()=>v(S),className:"text-red-500 hover:text-red-400 p-1 rounded-full hover:bg-gray-600",title:"Borrar usuario",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:c.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})})}):c.jsx("span",{className:"text-gray-500 text-xs italic pr-2",children:"Tú"})})]},S.id))})]}),y.length===0&&c.jsx("p",{className:"p-4 text-center text-gray-400",children:"No se encontraron usuarios."})]}),l&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 w-full max-w-md shadow-2xl border border-gray-700",children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirmar Eliminación"}),c.jsxs("p",{className:"text-gray-300 mb-6",children:["¿Estás seguro de que quieres eliminar al usuario ",c.jsx("strong",{className:"text-amber-400",children:l.username}),"? Esta acción es irreversible y eliminará todos sus datos asociados (inscripciones, comentarios, etc.)."]}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:()=>u(null),className:"py-2 px-4 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition duration-300",children:"Cancelar"}),c.jsx("button",{onClick:m,disabled:d,className:"py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition duration-300 disabled:bg-red-800 disabled:cursor-not-allowed",children:d?"Eliminando...":"Sí, eliminar"})]})]})})]})},w_=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[s,i]=_.useState(!1),[o,a]=_.useState(null),{user:l}=Zt(),[u,d]=_.useState([]),[h,f]=_.useState(!0),g=async()=>{n(!0);try{const p=await hu();t(p)}catch{U.error("Failed to load events.")}finally{n(!1)}},w=async()=>{if((l==null?void 0:l.role)===J.ORGANIZER){f(!0);try{const p=await lx();d(p)}catch(p){U.error(p.message||"Failed to load users.")}finally{f(!1)}}};_.useEffect(()=>{g(),(l==null?void 0:l.role)===J.ORGANIZER&&w()},[l]);const y=()=>{a(null),i(!0)},x=p=>{a(p),i(!0)},v=async p=>{if(window.confirm("Are you sure you want to delete this event?"))try{await Zw(p),U.success("Event deleted successfully!"),g()}catch{U.error("Failed to delete event.")}},m=()=>{i(!1),g()};return r?c.jsx("div",{className:"text-center p-10",children:"Loading Dashboard..."}):c.jsxs("div",{className:"space-y-12",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-cyan-400",children:"Dashboard de Eventos"}),c.jsx("button",{onClick:y,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300",children:"Crear Evento"})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-x-auto",children:[c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-gray-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-4",children:"Título"}),c.jsx("th",{className:"p-4",children:"Fecha"}),c.jsx("th",{className:"p-4",children:"Lugar"}),c.jsx("th",{className:"p-4",children:"Capacidad"}),c.jsx("th",{className:"p-4",children:"Acciones"})]})}),c.jsx("tbody",{children:e.map(p=>c.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/50",children:[c.jsx("td",{className:"p-4",children:p.title}),c.jsx("td",{className:"p-4",children:new Date(p.date).toLocaleDateString()}),c.jsx("td",{className:"p-4",children:p.location}),c.jsx("td",{className:"p-4",children:p.capacity??"N/A"}),c.jsxs("td",{className:"p-4 flex space-x-2",children:[c.jsx("button",{onClick:()=>x(p),className:"text-amber-400 hover:text-amber-300",children:"Editar"}),c.jsx("button",{onClick:()=>v(p.id),className:"text-red-500 hover:text-red-400",children:"Borrar"})]})]},p.id))})]}),e.length===0&&c.jsx("p",{className:"p-4 text-center text-gray-400",children:"No events found."})]})]}),l&&(l.role===J.FESTERO||l.role===J.ORGANIZER)&&c.jsx(g_,{creator:l,onSuccess:w}),(l==null?void 0:l.role)===J.ORGANIZER&&c.jsxs(c.Fragment,{children:[c.jsx(m_,{creator:l,onSuccess:w}),c.jsx(y_,{currentUser:l,users:u,isLoading:h,onDataRefresh:w})]}),s&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 w-full max-w-2xl relative",children:[c.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white text-2xl font-bold",children:"×"}),c.jsx("h2",{className:"text-2xl font-bold mb-4",children:o?"Editar Evento":"Crear Evento"}),c.jsx(p_,{event:o,onSuccess:m})]})})]})},x_=({rsvpId:e,participantName:t,onLinkSuccess:r})=>{const[n,s]=_.useState(!1),[i,o]=_.useState(""),[a,l]=_.useState(!1),u=async d=>{if(d.preventDefault(),!!i.trim()){l(!0);try{await ax(e,t,i),U.success(`'${t}' vinculado a '${i}'!`),r(),s(!1),o("")}catch(h){U.error(h.message||"Fallo al vincular.")}finally{l(!1)}}};return n?c.jsxs("form",{onSubmit:u,className:"inline-flex items-center gap-2 ml-2",children:[c.jsx("input",{type:"text",value:i,onChange:d=>o(d.target.value),placeholder:"Username del amigo",className:"bg-gray-900 border border-gray-600 rounded px-2 py-1 text-xs w-32",required:!0}),c.jsx("button",{type:"submit",disabled:a,className:"text-xs bg-green-600 hover:bg-green-500 text-white py-1 px-2 rounded disabled:bg-green-800",children:"OK"}),c.jsx("button",{type:"button",onClick:()=>s(!1),className:"text-xs bg-gray-600 hover:bg-gray-500 text-white py-1 px-2 rounded",children:"X"})]}):c.jsx("button",{onClick:()=>s(!0),className:"ml-2 text-xs bg-cyan-700 hover:bg-cyan-600 text-white py-1 px-2 rounded",children:"Vincular"})},__=()=>{const{user:e}=Zt(),[t,r]=_.useState([]),[n,s]=_.useState([]),[i,o]=_.useState(!0),a=async()=>{if(e){o(!0);try{const l=await ex(e.id),u=await hu(),d=l.map(f=>f.eventId),h=u.filter(f=>d.includes(f.id));r(l),s(h)}catch(l){console.error("Failed to fetch profile data:",l),U.error("No se pudieron cargar los datos del perfil.")}finally{o(!1)}}};return _.useEffect(()=>{a()},[e]),i?c.jsx("div",{className:"text-center p-10",children:"Loading Profile..."}):e?c.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-cyan-400",children:e.username}),c.jsx("p",{className:"text-gray-400",children:e.email}),c.jsx("p",{className:"mt-2 inline-block bg-cyan-800 text-cyan-300 text-sm font-semibold px-3 py-1 rounded-full",children:e.role})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Mis Eventos Apuntados"}),n.length>0?c.jsx("div",{className:"space-y-4",children:n.map(l=>{const u=t.find(h=>h.eventId===l.id);if(!u)return null;const d=e.id===u.userId;return c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold",children:l.title}),c.jsxs("p",{className:"text-sm text-gray-400",children:[new Date(l.date).toLocaleDateString()," - ",l.location]})]}),c.jsx(he,{to:`/event/${l.id}`,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded-lg flex-shrink-0",children:"Ver Evento"})]}),u.participants.length>1&&c.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600",children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Tu Grupo:"}),c.jsx("ul",{className:"text-sm text-gray-400 space-y-1",children:u.participants.map((h,f)=>c.jsxs("li",{className:"flex items-center",children:[c.jsx("span",{className:`font-semibold ${h.userId===e.id?"text-cyan-400":"text-gray-200"}`,children:h.name}),h.userId===null&&c.jsx("span",{className:"ml-2 text-xs text-amber-400",children:"(No vinculado)"}),d&&h.userId===null&&c.jsx(x_,{rsvpId:u.id,participantName:h.name,onLinkSuccess:a})]},f))})]})]},l.id)})}):c.jsx("p",{className:"text-gray-400",children:"Todavía no te has apuntado a ningún evento."})]})]}):c.jsx("div",{className:"text-center p-10",children:"User not found."})},ud=({children:e,allowedRoles:t})=>{const{user:r,isLoading:n}=Zt(),s=dn();return n?c.jsx("div",{className:"flex justify-center items-center h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-cyan-500"})}):r?t.includes(r.role)?e:c.jsx(Tc,{to:"/",state:{from:s},replace:!0}):c.jsx(Tc,{to:"/login",state:{from:s},replace:!0})},b_=()=>c.jsx("footer",{className:"bg-gray-800 border-t border-gray-700 mt-auto",children:c.jsxs("div",{className:"container mx-auto py-6 px-4 md:px-8 text-center text-gray-400",children:[c.jsxs("div",{className:"flex justify-center flex-wrap gap-x-4 gap-y-2 mb-4",children:[c.jsx(he,{to:"/legal-notice",className:"hover:text-cyan-400 transition-colors",children:"Aviso Legal"}),c.jsx(he,{to:"/privacy-policy",className:"hover:text-cyan-400 transition-colors",children:"Política de Privacidad"}),c.jsx(he,{to:"/terms-of-service",className:"hover:text-cyan-400 transition-colors",children:"Términos de Uso"})]}),c.jsxs("p",{children:["© ",new Date().getFullYear()," Fiestas Pantano 2026. Todos los derechos reservados."]})]})}),S_=()=>c.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl max-w-4xl mx-auto text-gray-300",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyan-400 mb-6",children:"Política de Privacidad"}),c.jsx("p",{className:"mb-4",children:"Fecha de última actualización: 24 de Julio de 2024"}),c.jsx("p",{className:"mb-4",children:"En Fiestas Pantano 2026, nos tomamos muy en serio tu privacidad. Esta Política de Privacidad describe cómo recogemos, utilizamos y gestionamos tu información personal cuando utilizas nuestra aplicación web."}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"1. Identidad y Contacto del Responsable del Tratamiento"}),c.jsxs("p",{className:"mb-4",children:["El responsable del tratamiento de los datos personales es la Comisión Organizadora de Fiestas Pantano 2026. Puedes contactarnos a través del correo electrónico: ",c.jsx("a",{href:"mailto:info@fiestaspantano.es",className:"text-cyan-400 hover:underline",children:"info@fiestaspantano.es"}),"."]}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"2. Finalidad del Tratamiento de Datos"}),c.jsx("p",{className:"mb-4",children:"Utilizamos tus datos para las siguientes finalidades:"}),c.jsxs("ul",{className:"list-disc list-inside mb-4 pl-4",children:[c.jsx("li",{children:"Gestionar tu cuenta de usuario y permitirte el acceso a la plataforma."}),c.jsx("li",{children:"Permitirte inscribirte (RSVP) en los eventos organizados."}),c.jsx("li",{children:"Mostrar tu nombre de usuario en la lista de asistentes de los eventos a los que te apuntes."}),c.jsx("li",{children:"Garantizar el correcto funcionamiento técnico y la seguridad de la aplicación."})]}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"3. Base Jurídica del Tratamiento"}),c.jsxs("p",{className:"mb-4",children:["La base legal para el tratamiento de tus datos es tu ",c.jsx("strong",{children:"consentimiento explícito"}),", que nos otorgas al marcar la casilla de aceptación de la Política de Privacidad y los Términos de Uso durante el proceso de registro. Sin este consentimiento, no es posible crear una cuenta."]}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"4. ¿Qué datos recogemos?"}),c.jsx("p",{className:"mb-4",children:"Recogemos únicamente los datos personales que nos proporcionas directamente al registrarte:"}),c.jsxs("ul",{className:"list-disc list-inside mb-4 pl-4",children:[c.jsx("li",{children:"Nombre de usuario"}),c.jsx("li",{children:"Dirección de correo electrónico (email)"}),c.jsx("li",{children:"Contraseña (se guarda una versión cifrada e irreversible para tu seguridad)."})]}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"5. Alojamiento de Datos y Encargado del Tratamiento"}),c.jsxs("p",{className:"mb-4",children:['Para proporcionar este servicio, utilizamos la plataforma "Backend as a Service" de ',c.jsx("strong",{children:"Supabase, Inc."}),", que actúa como nuestro ",c.jsx("strong",{children:"Encargado del Tratamiento"}),". Esto significa que todos los datos de la aplicación (usuarios, eventos, inscripciones, etc.) se almacenan de forma segura en la infraestructura en la nube gestionada por Supabase."]}),c.jsx("p",{className:"mb-4",children:"Nos hemos asegurado de que Supabase cumple con los más altos estándares de seguridad y protección de datos."}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"6. Conservación de los Datos"}),c.jsx("p",{className:"mb-4",children:"Conservaremos tus datos personales en la base de datos mientras mantengas una cuenta activa en nuestra plataforma. Si decides eliminar tu cuenta o si el servicio finaliza, tus datos serán eliminados de forma permanente."}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"7. Cesión de Datos y Transferencias Internacionales"}),c.jsxs("p",{className:"mb-4",children:["No vendemos, alquilamos ni cedemos tus datos personales a terceros. Tu ",c.jsx("strong",{children:"nombre de usuario"})," será el único dato visible para otros usuarios, y solo en las listas de asistentes de los eventos a los que te apuntes voluntariamente."]}),c.jsx("p",{className:"mb-4",children:"Dado que utilizamos los servicios de Supabase, Inc., tus datos pueden ser transferidos y procesados en servidores ubicados fuera del Espacio Económico Europeo (EEE). Estas transferencias se realizan bajo las Cláusulas Contractuales Tipo (SCC) aprobadas por la Comisión Europea, garantizando un nivel de protección de datos equivalente al europeo."}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"8. Medidas de Seguridad"}),c.jsx("p",{className:"mb-4",children:'Hemos adoptado medidas técnicas y organizativas para proteger tus datos. Esto incluye el uso de conexiones cifradas (SSL), el almacenamiento seguro de contraseñas mediante "hashing" y la gestión de permisos de acceso a través del sistema de autenticación de Supabase.'}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"9. Derechos de los Usuarios"}),c.jsx("p",{className:"mb-4",children:"Como usuario, tienes derecho a:"}),c.jsxs("ul",{className:"list-disc list-inside mb-4 pl-4",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Acceso:"})," Consultar qué datos tenemos sobre ti."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Rectificación:"})," Modificar tus datos si son incorrectos."]}),c.jsxs("li",{children:[c.jsx("strong",{children:'Supresión ("Derecho al Olvido"):'})," Solicitar la eliminación permanente de tu cuenta y todos tus datos asociados."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Oposición:"})," Oponerte a un determinado uso de tus datos."]}),c.jsx("li",{children:c.jsx("strong",{children:"Limitación del tratamiento y Portabilidad."})})]}),c.jsxs("p",{className:"mb-4",children:["Puedes ejercer estos derechos contactándonos en ",c.jsx("a",{href:"mailto:info@fiestaspantano.es",className:"text-cyan-400 hover:underline",children:"info@fiestaspantano.es"}),". A diferencia de la versión anterior de la app, borrar los datos de tu navegador ya no eliminará tu cuenta de nuestros sistemas."]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx(he,{to:"/",className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300",children:"Volver al inicio"})})]}),E_=()=>c.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl max-w-4xl mx-auto text-gray-300",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyan-400 mb-6",children:"Aviso Legal"}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"1. Datos Identificativos"}),c.jsx("p",{className:"mb-4",children:"En cumplimiento con el deber de información recogido en artículo 10 de la Ley 34/2002, de 11 de julio, de Servicios de la Sociedad de la Información y del Comercio Electrónico, a continuación se reflejan los siguientes datos:"}),c.jsxs("ul",{className:"list-disc list-inside mb-4 pl-4",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Responsable:"}),' Comisión Organizadora Fiestas Pantano 2026 (en adelante, "La Organización")']}),c.jsxs("li",{children:[c.jsx("strong",{children:"Correo electrónico de contacto:"})," ",c.jsx("a",{href:"mailto:info@fiestaspantano.es",className:"text-cyan-400 hover:underline",children:"info@fiestaspantano.es"})]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Sitio Web:"})," fiestas-pantano-2026.app"]})]}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"2. Objeto"}),c.jsx("p",{className:"mb-4",children:"La Organización pone a disposición de los usuarios el presente documento con el que pretende dar cumplimiento a las obligaciones dispuestas en la normativa vigente, así como informar a todos los usuarios del sitio web respecto a cuáles son las condiciones de uso del mismo."}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"3. Usuarios"}),c.jsx("p",{className:"mb-4",children:"El acceso y/o uso de este portal atribuye la condición de USUARIO, que acepta, desde dicho acceso y/o uso, las Condiciones Generales de Uso aquí reflejadas."}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"4. Uso del Portal"}),c.jsx("p",{className:"mb-4",children:'El sitio web proporciona el acceso a multitud de informaciones, servicios, programas o datos (en adelante, "los contenidos") en Internet pertenecientes a La Organización a los que el USUARIO pueda tener acceso. El USUARIO asume la responsabilidad del uso del portal. Dicha responsabilidad se extiende al registro que fuese necesario para acceder a determinados servicios o contenidos.'}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"5. Propiedad Intelectual e Industrial"}),c.jsx("p",{className:"mb-4",children:"La Organización, por sí o como cesionaria, es titular de todos los derechos de propiedad intelectual e industrial de su página web, así como de los elementos contenidos en la misma (a título enunciativo, imágenes, sonido, audio, vídeo, software o textos; marcas o logotipos, etc.)."}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"6. Legislación Aplicable y Jurisdicción"}),c.jsx("p",{className:"mb-4",children:"La relación entre La Organización y el USUARIO se regirá por la normativa española vigente y cualquier controversia se someterá a los Juzgados y tribunales de la ciudad correspondiente."}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx(he,{to:"/",className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300",children:"Volver al inicio"})})]}),cd="fiestas_pantano_cookie_consent",j_=()=>{const[e,t]=_.useState(!1);_.useEffect(()=>{localStorage.getItem(cd)||t(!0)},[]);const r=()=>{localStorage.setItem(cd,"true"),t(!1)};return e?c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 p-4 z-50",children:c.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsxs("p",{className:"text-sm text-gray-300 text-center md:text-left",children:["Este sitio web utiliza cookies técnicas y almacenamiento local esenciales para su funcionamiento, como mantener tu sesión iniciada. Consulta nuestra"," ",c.jsx(he,{to:"/privacy-policy",className:"text-cyan-400 hover:underline",children:"Política de Privacidad"})," para más información."]}),c.jsx("button",{onClick:r,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-300 flex-shrink-0",children:"Aceptar"})]})}):null},k_=()=>c.jsxs("div",{className:"bg-gray-800 p-8 rounded-xl shadow-2xl max-w-4xl mx-auto text-gray-300",children:[c.jsx("h1",{className:"text-3xl font-bold text-cyan-400 mb-6",children:"Términos y Condiciones de Uso"}),c.jsx("p",{className:"mb-4",children:"Fecha de última actualización: 24 de Julio de 2024"}),c.jsx("p",{className:"mb-4",children:"Bienvenido a la aplicación web de Fiestas Pantano 2026. Al acceder y utilizar este sitio web, usted acepta cumplir y estar sujeto a los siguientes términos y condiciones de uso. Por favor, léalos detenidamente. Si no está de acuerdo con estos términos, no debe utilizar este sitio."}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"1. Descripción del Servicio"}),c.jsx("p",{className:"mb-4",children:'La aplicación Fiestas Pantano 2026 (en adelante, "el Servicio") es una plataforma diseñada para informar sobre los eventos de las fiestas, permitir el registro de usuarios y facilitar la inscripción a dichos eventos.'}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"2. Cuentas de Usuario"}),c.jsx("p",{className:"mb-4",children:"Para acceder a ciertas funcionalidades, como inscribirse en eventos, deberá crear una cuenta. Usted es responsable de mantener la confidencialidad de su contraseña y de toda la actividad que ocurra en su cuenta. Se compromete a proporcionar información veraz, actual y completa durante el proceso de registro y a actualizar dicha información para mantenerla así."}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"3. Conducta del Usuario"}),c.jsx("p",{className:"mb-4",children:"Usted se compromete a no utilizar el Servicio para:"}),c.jsxs("ul",{className:"list-disc list-inside mb-4 pl-4",children:[c.jsx("li",{children:"Realizar cualquier actividad ilegal o que infrinja los derechos de terceros."}),c.jsx("li",{children:"Publicar contenido ofensivo, difamatorio o inapropiado."}),c.jsx("li",{children:"Hacerse pasar por otra persona o entidad."}),c.jsx("li",{children:"Intentar obtener acceso no autorizado a los sistemas o cuentas de otros usuarios."})]}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"4. Propiedad Intelectual"}),c.jsx("p",{className:"mb-4",children:"Todo el contenido de este sitio web, incluyendo textos, gráficos, logos e imágenes, es propiedad de la Comisión Organizadora de Fiestas Pantano 2026 y está protegido por las leyes de propiedad intelectual."}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"5. Exclusión de Garantías y Limitación de Responsabilidad"}),c.jsx("p",{className:"mb-4",children:'El Servicio se proporciona "tal cual", sin garantías de ningún tipo. La Organización no se hace responsable de posibles errores en la información de los eventos, cancelaciones o cambios de última hora. El uso del Servicio es bajo su propio riesgo. La Organización no será responsable de ningún daño directo o indirecto que pueda surgir del uso de esta plataforma.'}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"6. Modificaciones de los Términos"}),c.jsx("p",{className:"mb-4",children:"Nos reservamos el derecho de modificar estos términos y condiciones en cualquier momento. Las modificaciones entrarán en vigor inmediatamente después de su publicación en el sitio web. Es su responsabilidad revisar estos términos periódicamente."}),c.jsx("h2",{className:"text-2xl font-semibold text-white mt-6 mb-3",children:"7. Legislación Aplicable"}),c.jsx("p",{className:"mb-4",children:"Estos términos se regirán e interpretarán de acuerdo con las leyes de España."}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx(he,{to:"/",className:"bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300",children:"Volver al inicio"})})]}),C_=()=>{const[e,t]=_.useState(null),[r,n]=_.useState(!0),{user:s}=Zt(),[i,o]=_.useState(!1),[a,l]=_.useState(null),u=(s==null?void 0:s.role)===J.FESTERO||(s==null?void 0:s.role)===J.ORGANIZER;_.useEffect(()=>{(async()=>{n(!0);try{const x=await hx();t(x),l(x)}catch(x){console.error("Failed to fetch raffle data:",x),U.error("Failed to load raffle data.")}finally{n(!1)}})()},[]);const d=()=>{o(!0)},h=async()=>{if(a)try{const y=await fx(a);t(y),U.success("Raffle updated successfully!"),o(!1)}catch{U.error("Failed to update raffle.")}},f=y=>{a&&l({...a,[y.target.name]:y.target.value})},g=y=>{if(y.target.files&&y.target.files[0]&&a){const x=y.target.files[0],v=new FileReader;v.onloadend=()=>{l({...a,videoUrl:v.result})},v.readAsDataURL(x)}},w=y=>y.includes("youtube.com/embed");return r?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-amber-500"})}):c.jsx("div",{className:"flex items-center justify-center py-10 bg-gradient-to-br from-gray-900 via-purple-900 to-slate-900 rounded-xl",children:c.jsxs("div",{className:"w-full max-w-4xl bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl shadow-2xl shadow-amber-500/20 border border-amber-400/40",children:[c.jsx("h1",{className:"text-5xl font-bold mb-8 text-amber-300 text-center",style:{textShadow:"0 0 15px #fcd34d"},children:"La Última Rifa"}),e&&c.jsx("div",{className:"text-center space-y-6",children:i?c.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[c.jsx("input",{type:"date",name:"date",value:a==null?void 0:a.date,onChange:f,className:"w-full bg-gray-700 text-white p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-amber-500"}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"videoFile",className:"block text-sm font-medium text-gray-300 mb-1",children:"Subir Vídeo"}),c.jsx("input",{type:"file",name:"videoFile",id:"videoFile",accept:"video/*",onChange:g,className:"w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-cyan-600 file:text-white hover:file:bg-cyan-700"})]}),c.jsx("input",{type:"text",name:"number",value:a==null?void 0:a.number,onChange:f,placeholder:"Número Ganador",className:"w-full bg-gray-700 text-white p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-amber-500"}),c.jsxs("div",{className:"flex justify-center gap-4",children:[c.jsx("button",{onClick:h,className:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300",children:"Guardar"}),c.jsx("button",{onClick:()=>o(!1),className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded-lg transition duration-300",children:"Cancelar"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-xl text-gray-300",children:["Fecha: ",c.jsx("span",{className:"font-semibold text-white",children:new Date(e.date).toLocaleDateString()})]}),c.jsx("div",{className:"aspect-w-16 aspect-h-9 max-w-2xl mx-auto bg-black rounded-lg shadow-lg shadow-black/50 overflow-hidden",children:w(e.videoUrl)?c.jsx("iframe",{src:e.videoUrl,title:"Raffle Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"}):c.jsx("video",{src:e.videoUrl,controls:!0,className:"w-full h-full",children:"Tu navegador no soporta la etiqueta de vídeo."})}),c.jsxs("div",{className:"mt-6",children:[c.jsx("p",{className:"text-2xl text-gray-200",children:"Número Ganador"}),c.jsx("p",{className:"font-bold text-8xl text-amber-300 tracking-widest animate-pulse",style:{textShadow:"0 0 20px #fcd34d"},children:e.number})]}),u&&c.jsx("button",{onClick:d,className:"mt-6 bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300",children:"Modificar Rifa"})]})})]})})},N_=()=>c.jsx(r_,{children:c.jsx(Af,{children:c.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans flex flex-col",children:[c.jsx(t_,{position:"top-center",reverseOrder:!1}),c.jsx(n_,{}),c.jsx("main",{className:"container mx-auto p-4 md:p-8 flex-grow",children:c.jsxs(pv,{children:[c.jsx(Ge,{path:"/login",element:c.jsx(l_,{})}),c.jsx(Ge,{path:"/register",element:c.jsx(u_,{})}),c.jsx(Ge,{path:"/event/:id",element:c.jsx(d_,{})}),c.jsx(Ge,{path:"/privacy-policy",element:c.jsx(S_,{})}),c.jsx(Ge,{path:"/legal-notice",element:c.jsx(E_,{})}),c.jsx(Ge,{path:"/terms-of-service",element:c.jsx(k_,{})}),c.jsx(Ge,{path:"/raffle",element:c.jsx(C_,{})}),c.jsx(Ge,{path:"/dashboard",element:c.jsx(ud,{allowedRoles:[J.FESTERO,J.ORGANIZER],children:c.jsx(w_,{})})}),c.jsx(Ge,{path:"/profile",element:c.jsx(ud,{allowedRoles:[J.USER,J.FESTERO,J.ORGANIZER],children:c.jsx(__,{})})}),c.jsx(Ge,{path:"/",element:c.jsx(i_,{})})]})}),c.jsx(b_,{}),c.jsx(j_,{})]})})}),qp=document.getElementById("root");if(!qp)throw new Error("Could not find root element to mount to");const O_=qo.createRoot(qp);O_.render(c.jsx(Af,{children:c.jsx(N_,{})}));
